Windows PowerShell
Copyright (C) Microsoft Corporation. Todos os direitos reservados.

Experimente a nova plataforma cruzada PowerShell https://aka.ms/pscore6

PS C:\Users\renan> wsl
renan3@ZORO:/mnt/c/Users/renan$ cd
renan3@ZORO:~$ docker exec -it spark-master bin/spark-submit \
>   --packages org.apache.spark:spark-sql-kafka-0-10_2.12:3.5.0,org.postgresql:postgresql:42.7.0,org.elasticsearch:elasticsearch-spark-30_2.12:8.11.0 \
 /opt/>   /opt/spark-apps/spark_app.py
:: loading settings :: url = jar:file:/opt/spark/jars/ivy-2.5.1.jar!/org/apache/ivy/core/settings/ivysettings.xml
Ivy Default Cache set to: /root/.ivy2/cache
The jars for the packages stored in: /root/.ivy2/jars
org.apache.spark#spark-sql-kafka-0-10_2.12 added as a dependency
org.postgresql#postgresql added as a dependency
org.elasticsearch#elasticsearch-spark-30_2.12 added as a dependency
:: resolving dependencies :: org.apache.spark#spark-submit-parent-d9580e96-b960-4031-a47c-ba133929112d;1.0
        confs: [default]
        found org.apache.spark#spark-sql-kafka-0-10_2.12;3.5.0 in central
        found org.apache.spark#spark-token-provider-kafka-0-10_2.12;3.5.0 in central
        found org.apache.kafka#kafka-clients;3.4.1 in central
        found org.lz4#lz4-java;1.8.0 in central
        found org.xerial.snappy#snappy-java;1.1.10.3 in central
        found org.slf4j#slf4j-api;2.0.7 in central
        found org.apache.hadoop#hadoop-client-runtime;3.3.4 in central
        found org.apache.hadoop#hadoop-client-api;3.3.4 in central
        found commons-logging#commons-logging;1.1.3 in central
        found com.google.code.findbugs#jsr305;3.0.0 in central
        found org.apache.commons#commons-pool2;2.11.1 in central
        found org.postgresql#postgresql;42.7.0 in central
        found org.checkerframework#checker-qual;3.31.0 in central
        found org.elasticsearch#elasticsearch-spark-30_2.12;8.11.0 in central
        found org.scala-lang#scala-reflect;2.12.8 in central
        found javax.xml.bind#jaxb-api;2.3.1 in central
        found com.google.protobuf#protobuf-java;2.5.0 in central
        found org.apache.spark#spark-yarn_2.12;3.3.3 in central
:: resolution report :: resolve 555ms :: artifacts dl 17ms
        :: modules in use:
        com.google.code.findbugs#jsr305;3.0.0 from central in [default]
        com.google.protobuf#protobuf-java;2.5.0 from central in [default]
        commons-logging#commons-logging;1.1.3 from central in [default]
        javax.xml.bind#jaxb-api;2.3.1 from central in [default]
        org.apache.commons#commons-pool2;2.11.1 from central in [default]
        org.apache.hadoop#hadoop-client-api;3.3.4 from central in [default]
        org.apache.hadoop#hadoop-client-runtime;3.3.4 from central in [default]
        org.apache.kafka#kafka-clients;3.4.1 from central in [default]
        org.apache.spark#spark-sql-kafka-0-10_2.12;3.5.0 from central in [default]
        org.apache.spark#spark-token-provider-kafka-0-10_2.12;3.5.0 from central in [default]
        org.apache.spark#spark-yarn_2.12;3.3.3 from central in [default]
        org.checkerframework#checker-qual;3.31.0 from central in [default]
        org.elasticsearch#elasticsearch-spark-30_2.12;8.11.0 from central in [default]
        org.lz4#lz4-java;1.8.0 from central in [default]
        org.postgresql#postgresql;42.7.0 from central in [default]
        org.scala-lang#scala-reflect;2.12.8 from central in [default]
        org.slf4j#slf4j-api;2.0.7 from central in [default]
        org.xerial.snappy#snappy-java;1.1.10.3 from central in [default]
        :: evicted modules:
        org.slf4j#slf4j-api;1.7.6 by [org.slf4j#slf4j-api;2.0.7] in [default]
        commons-logging#commons-logging;1.1.1 by [commons-logging#commons-logging;1.1.3] in [default]
        ---------------------------------------------------------------------
        |                  |            modules            ||   artifacts   |
        |       conf       | number| search|dwnlded|evicted|| number|dwnlded|
        ---------------------------------------------------------------------
        |      default     |   20  |   0   |   0   |   2   ||   18  |   0   |
        ---------------------------------------------------------------------
:: retrieving :: org.apache.spark#spark-submit-parent-d9580e96-b960-4031-a47c-ba133929112d
        confs: [default]
        0 artifacts copied, 18 already retrieved (0kB/11ms)
25/12/04 13:11:26 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
INFO:__main__:Iniciando pipeline Spark Streaming...
25/12/04 13:11:28 INFO SparkContext: Running Spark version 3.5.0
25/12/04 13:11:28 INFO SparkContext: OS info Linux, 5.15.167.4-microsoft-standard-WSL2, amd64
25/12/04 13:11:28 INFO SparkContext: Java version 11.0.29
25/12/04 13:11:28 INFO ResourceUtils: ==============================================================
25/12/04 13:11:28 INFO ResourceUtils: No custom resources configured for spark.driver.
25/12/04 13:11:28 INFO ResourceUtils: ==============================================================
25/12/04 13:11:28 INFO SparkContext: Submitted application: KafkaSparkPostgresPipeline
25/12/04 13:11:28 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -> name: cores, amount: 1, script: , vendor: , memory -> name: memory, amount: 1024, script: , vendor: , offHeap -> name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -> name: cpus, amount: 1.0)
25/12/04 13:11:28 INFO ResourceProfile: Limiting resource is cpu
25/12/04 13:11:28 INFO ResourceProfileManager: Added ResourceProfile id: 0
25/12/04 13:11:28 INFO SecurityManager: Changing view acls to: root
25/12/04 13:11:28 INFO SecurityManager: Changing modify acls to: root
25/12/04 13:11:28 INFO SecurityManager: Changing view acls groups to:
25/12/04 13:11:28 INFO SecurityManager: Changing modify acls groups to:
25/12/04 13:11:28 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users with view permissions: root; groups with view permissions: EMPTY; users with modify permissions: root; groups with modify permissions: EMPTY
25/12/04 13:11:28 INFO Utils: Successfully started service 'sparkDriver' on port 40315.
25/12/04 13:11:29 INFO SparkEnv: Registering MapOutputTracker
25/12/04 13:11:29 INFO SparkEnv: Registering BlockManagerMaster
25/12/04 13:11:29 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information
25/12/04 13:11:29 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up
25/12/04 13:11:29 INFO SparkEnv: Registering BlockManagerMasterHeartbeat
25/12/04 13:11:29 INFO DiskBlockManager: Created local directory at /tmp/blockmgr-32aa365c-4418-4ea0-8880-08f2a1db25fb
25/12/04 13:11:29 INFO MemoryStore: MemoryStore started with capacity 434.4 MiB
25/12/04 13:11:29 INFO SparkEnv: Registering OutputCommitCoordinator
25/12/04 13:11:29 INFO JettyUtils: Start Jetty 0.0.0.0:4040 for SparkUI
25/12/04 13:11:29 WARN Utils: Service 'SparkUI' could not bind on port 4040. Attempting port 4041.
25/12/04 13:11:29 WARN Utils: Service 'SparkUI' could not bind on port 4041. Attempting port 4042.
25/12/04 13:11:29 INFO Utils: Successfully started service 'SparkUI' on port 4042.
25/12/04 13:11:29 INFO SparkContext: Added JAR file:///root/.ivy2/jars/org.apache.spark_spark-sql-kafka-0-10_2.12-3.5.0.jar at spark://spark-master:40315/jars/org.apache.spark_spark-sql-kafka-0-10_2.12-3.5.0.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO SparkContext: Added JAR file:///root/.ivy2/jars/org.postgresql_postgresql-42.7.0.jar at spark://spark-master:40315/jars/org.postgresql_postgresql-42.7.0.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO SparkContext: Added JAR file:///root/.ivy2/jars/org.elasticsearch_elasticsearch-spark-30_2.12-8.11.0.jar at spark://spark-master:40315/jars/org.elasticsearch_elasticsearch-spark-30_2.12-8.11.0.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO SparkContext: Added JAR file:///root/.ivy2/jars/org.apache.spark_spark-token-provider-kafka-0-10_2.12-3.5.0.jar at spark://spark-master:40315/jars/org.apache.spark_spark-token-provider-kafka-0-10_2.12-3.5.0.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO SparkContext: Added JAR file:///root/.ivy2/jars/org.apache.kafka_kafka-clients-3.4.1.jar at spark://spark-master:40315/jars/org.apache.kafka_kafka-clients-3.4.1.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO SparkContext: Added JAR file:///root/.ivy2/jars/com.google.code.findbugs_jsr305-3.0.0.jar at spark://spark-master:40315/jars/com.google.code.findbugs_jsr305-3.0.0.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO SparkContext: Added JAR file:///root/.ivy2/jars/org.apache.commons_commons-pool2-2.11.1.jar at spark://spark-master:40315/jars/org.apache.commons_commons-pool2-2.11.1.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO SparkContext: Added JAR file:///root/.ivy2/jars/org.apache.hadoop_hadoop-client-runtime-3.3.4.jar at spark://spark-master:40315/jars/org.apache.hadoop_hadoop-client-runtime-3.3.4.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO SparkContext: Added JAR file:///root/.ivy2/jars/org.lz4_lz4-java-1.8.0.jar at spark://spark-master:40315/jars/org.lz4_lz4-java-1.8.0.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO SparkContext: Added JAR file:///root/.ivy2/jars/org.xerial.snappy_snappy-java-1.1.10.3.jar at spark://spark-master:40315/jars/org.xerial.snappy_snappy-java-1.1.10.3.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO SparkContext: Added JAR file:///root/.ivy2/jars/org.slf4j_slf4j-api-2.0.7.jar at spark://spark-master:40315/jars/org.slf4j_slf4j-api-2.0.7.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO SparkContext: Added JAR file:///root/.ivy2/jars/org.apache.hadoop_hadoop-client-api-3.3.4.jar at spark://spark-master:40315/jars/org.apache.hadoop_hadoop-client-api-3.3.4.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO SparkContext: Added JAR file:///root/.ivy2/jars/commons-logging_commons-logging-1.1.3.jar at spark://spark-master:40315/jars/commons-logging_commons-logging-1.1.3.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO SparkContext: Added JAR file:///root/.ivy2/jars/org.checkerframework_checker-qual-3.31.0.jar at spark://spark-master:40315/jars/org.checkerframework_checker-qual-3.31.0.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO SparkContext: Added JAR file:///root/.ivy2/jars/org.scala-lang_scala-reflect-2.12.8.jar at spark://spark-master:40315/jars/org.scala-lang_scala-reflect-2.12.8.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO SparkContext: Added JAR file:///root/.ivy2/jars/javax.xml.bind_jaxb-api-2.3.1.jar at spark://spark-master:40315/jars/javax.xml.bind_jaxb-api-2.3.1.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO SparkContext: Added JAR file:///root/.ivy2/jars/com.google.protobuf_protobuf-java-2.5.0.jar at spark://spark-master:40315/jars/com.google.protobuf_protobuf-java-2.5.0.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO SparkContext: Added JAR file:///root/.ivy2/jars/org.apache.spark_spark-yarn_2.12-3.3.3.jar at spark://spark-master:40315/jars/org.apache.spark_spark-yarn_2.12-3.3.3.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO SparkContext: Added file file:///root/.ivy2/jars/org.apache.spark_spark-sql-kafka-0-10_2.12-3.5.0.jar at file:///root/.ivy2/jars/org.apache.spark_spark-sql-kafka-0-10_2.12-3.5.0.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO Utils: Copying /root/.ivy2/jars/org.apache.spark_spark-sql-kafka-0-10_2.12-3.5.0.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.spark_spark-sql-kafka-0-10_2.12-3.5.0.jar
25/12/04 13:11:29 INFO SparkContext: Added file file:///root/.ivy2/jars/org.postgresql_postgresql-42.7.0.jar at file:///root/.ivy2/jars/org.postgresql_postgresql-42.7.0.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO Utils: Copying /root/.ivy2/jars/org.postgresql_postgresql-42.7.0.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.postgresql_postgresql-42.7.0.jar
25/12/04 13:11:29 INFO SparkContext: Added file file:///root/.ivy2/jars/org.elasticsearch_elasticsearch-spark-30_2.12-8.11.0.jar at file:///root/.ivy2/jars/org.elasticsearch_elasticsearch-spark-30_2.12-8.11.0.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO Utils: Copying /root/.ivy2/jars/org.elasticsearch_elasticsearch-spark-30_2.12-8.11.0.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.elasticsearch_elasticsearch-spark-30_2.12-8.11.0.jar
25/12/04 13:11:29 INFO SparkContext: Added file file:///root/.ivy2/jars/org.apache.spark_spark-token-provider-kafka-0-10_2.12-3.5.0.jar at file:///root/.ivy2/jars/org.apache.spark_spark-token-provider-kafka-0-10_2.12-3.5.0.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO Utils: Copying /root/.ivy2/jars/org.apache.spark_spark-token-provider-kafka-0-10_2.12-3.5.0.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.spark_spark-token-provider-kafka-0-10_2.12-3.5.0.jar
25/12/04 13:11:29 INFO SparkContext: Added file file:///root/.ivy2/jars/org.apache.kafka_kafka-clients-3.4.1.jar at file:///root/.ivy2/jars/org.apache.kafka_kafka-clients-3.4.1.jar with timestamp 176485388841725/12/04 13:11:29 INFO Utils: Copying /root/.ivy2/jars/org.apache.kafka_kafka-clients-3.4.1.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.kafka_kafka-clients-3.4.1.jar
25/12/04 13:11:29 INFO SparkContext: Added file file:///root/.ivy2/jars/com.google.code.findbugs_jsr305-3.0.0.jar at file:///root/.ivy2/jars/com.google.code.findbugs_jsr305-3.0.0.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO Utils: Copying /root/.ivy2/jars/com.google.code.findbugs_jsr305-3.0.0.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/com.google.code.findbugs_jsr305-3.0.0.jar
25/12/04 13:11:29 INFO SparkContext: Added file file:///root/.ivy2/jars/org.apache.commons_commons-pool2-2.11.1.jar at file:///root/.ivy2/jars/org.apache.commons_commons-pool2-2.11.1.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO Utils: Copying /root/.ivy2/jars/org.apache.commons_commons-pool2-2.11.1.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.commons_commons-pool2-2.11.1.jar
25/12/04 13:11:29 INFO SparkContext: Added file file:///root/.ivy2/jars/org.apache.hadoop_hadoop-client-runtime-3.3.4.jar at file:///root/.ivy2/jars/org.apache.hadoop_hadoop-client-runtime-3.3.4.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO Utils: Copying /root/.ivy2/jars/org.apache.hadoop_hadoop-client-runtime-3.3.4.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.hadoop_hadoop-client-runtime-3.3.4.jar
25/12/04 13:11:29 INFO SparkContext: Added file file:///root/.ivy2/jars/org.lz4_lz4-java-1.8.0.jar at file:///root/.ivy2/jars/org.lz4_lz4-java-1.8.0.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO Utils: Copying /root/.ivy2/jars/org.lz4_lz4-java-1.8.0.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.lz4_lz4-java-1.8.0.jar
25/12/04 13:11:29 INFO SparkContext: Added file file:///root/.ivy2/jars/org.xerial.snappy_snappy-java-1.1.10.3.jar at file:///root/.ivy2/jars/org.xerial.snappy_snappy-java-1.1.10.3.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO Utils: Copying /root/.ivy2/jars/org.xerial.snappy_snappy-java-1.1.10.3.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.xerial.snappy_snappy-java-1.1.10.3.jar
25/12/04 13:11:29 INFO SparkContext: Added file file:///root/.ivy2/jars/org.slf4j_slf4j-api-2.0.7.jar at file:///root/.ivy2/jars/org.slf4j_slf4j-api-2.0.7.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO Utils: Copying /root/.ivy2/jars/org.slf4j_slf4j-api-2.0.7.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.slf4j_slf4j-api-2.0.7.jar
25/12/04 13:11:29 INFO SparkContext: Added file file:///root/.ivy2/jars/org.apache.hadoop_hadoop-client-api-3.3.4.jar at file:///root/.ivy2/jars/org.apache.hadoop_hadoop-client-api-3.3.4.jar with timestamp 1764853888417
25/12/04 13:11:29 INFO Utils: Copying /root/.ivy2/jars/org.apache.hadoop_hadoop-client-api-3.3.4.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.hadoop_hadoop-client-api-3.3.4.jar
25/12/04 13:11:30 INFO SparkContext: Added file file:///root/.ivy2/jars/commons-logging_commons-logging-1.1.3.jar at file:///root/.ivy2/jars/commons-logging_commons-logging-1.1.3.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: Copying /root/.ivy2/jars/commons-logging_commons-logging-1.1.3.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/commons-logging_commons-logging-1.1.3.jar
25/12/04 13:11:30 INFO SparkContext: Added file file:///root/.ivy2/jars/org.checkerframework_checker-qual-3.31.0.jar at file:///root/.ivy2/jars/org.checkerframework_checker-qual-3.31.0.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: Copying /root/.ivy2/jars/org.checkerframework_checker-qual-3.31.0.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.checkerframework_checker-qual-3.31.0.jar
25/12/04 13:11:30 INFO SparkContext: Added file file:///root/.ivy2/jars/org.scala-lang_scala-reflect-2.12.8.jar at file:///root/.ivy2/jars/org.scala-lang_scala-reflect-2.12.8.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: Copying /root/.ivy2/jars/org.scala-lang_scala-reflect-2.12.8.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.scala-lang_scala-reflect-2.12.8.jar
25/12/04 13:11:30 INFO SparkContext: Added file file:///root/.ivy2/jars/javax.xml.bind_jaxb-api-2.3.1.jar at file:///root/.ivy2/jars/javax.xml.bind_jaxb-api-2.3.1.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: Copying /root/.ivy2/jars/javax.xml.bind_jaxb-api-2.3.1.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/javax.xml.bind_jaxb-api-2.3.1.jar
25/12/04 13:11:30 INFO SparkContext: Added file file:///root/.ivy2/jars/com.google.protobuf_protobuf-java-2.5.0.jar at file:///root/.ivy2/jars/com.google.protobuf_protobuf-java-2.5.0.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: Copying /root/.ivy2/jars/com.google.protobuf_protobuf-java-2.5.0.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/com.google.protobuf_protobuf-java-2.5.0.jar
25/12/04 13:11:30 INFO SparkContext: Added file file:///root/.ivy2/jars/org.apache.spark_spark-yarn_2.12-3.3.3.jar at file:///root/.ivy2/jars/org.apache.spark_spark-yarn_2.12-3.3.3.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: Copying /root/.ivy2/jars/org.apache.spark_spark-yarn_2.12-3.3.3.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.spark_spark-yarn_2.12-3.3.3.jar
25/12/04 13:11:30 INFO Executor: Starting executor ID driver on host spark-master
25/12/04 13:11:30 INFO Executor: OS info Linux, 5.15.167.4-microsoft-standard-WSL2, amd64
25/12/04 13:11:30 INFO Executor: Java version 11.0.29
25/12/04 13:11:30 INFO Executor: Starting executor with user classpath (userClassPathFirst = false): ''
25/12/04 13:11:30 INFO Executor: Created or updated repl class loader org.apache.spark.util.MutableURLClassLoader@1eb53dc for default.
25/12/04 13:11:30 INFO Executor: Fetching file:///root/.ivy2/jars/org.apache.spark_spark-sql-kafka-0-10_2.12-3.5.0.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: /root/.ivy2/jars/org.apache.spark_spark-sql-kafka-0-10_2.12-3.5.0.jar has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.spark_spark-sql-kafka-0-10_2.12-3.5.0.jar
25/12/04 13:11:30 INFO Executor: Fetching file:///root/.ivy2/jars/org.apache.hadoop_hadoop-client-api-3.3.4.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: /root/.ivy2/jars/org.apache.hadoop_hadoop-client-api-3.3.4.jar has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.hadoop_hadoop-client-api-3.3.4.jar
25/12/04 13:11:30 INFO Executor: Fetching file:///root/.ivy2/jars/com.google.code.findbugs_jsr305-3.0.0.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: /root/.ivy2/jars/com.google.code.findbugs_jsr305-3.0.0.jar has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/com.google.code.findbugs_jsr305-3.0.0.jar
25/12/04 13:11:30 INFO Executor: Fetching file:///root/.ivy2/jars/org.apache.hadoop_hadoop-client-runtime-3.3.4.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: /root/.ivy2/jars/org.apache.hadoop_hadoop-client-runtime-3.3.4.jar has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.hadoop_hadoop-client-runtime-3.3.4.jar
25/12/04 13:11:30 INFO Executor: Fetching file:///root/.ivy2/jars/com.google.protobuf_protobuf-java-2.5.0.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: /root/.ivy2/jars/com.google.protobuf_protobuf-java-2.5.0.jar has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/com.google.protobuf_protobuf-java-2.5.0.jar
25/12/04 13:11:30 INFO Executor: Fetching file:///root/.ivy2/jars/org.xerial.snappy_snappy-java-1.1.10.3.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: /root/.ivy2/jars/org.xerial.snappy_snappy-java-1.1.10.3.jar has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.xerial.snappy_snappy-java-1.1.10.3.jar
25/12/04 13:11:30 INFO Executor: Fetching file:///root/.ivy2/jars/org.apache.spark_spark-token-provider-kafka-0-10_2.12-3.5.0.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: /root/.ivy2/jars/org.apache.spark_spark-token-provider-kafka-0-10_2.12-3.5.0.jar has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.spark_spark-token-provider-kafka-0-10_2.12-3.5.0.jar
25/12/04 13:11:30 INFO Executor: Fetching file:///root/.ivy2/jars/org.slf4j_slf4j-api-2.0.7.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: /root/.ivy2/jars/org.slf4j_slf4j-api-2.0.7.jar has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.slf4j_slf4j-api-2.0.7.jar
25/12/04 13:11:30 INFO Executor: Fetching file:///root/.ivy2/jars/org.checkerframework_checker-qual-3.31.0.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: /root/.ivy2/jars/org.checkerframework_checker-qual-3.31.0.jar has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.checkerframework_checker-qual-3.31.0.jar
25/12/04 13:11:30 INFO Executor: Fetching file:///root/.ivy2/jars/org.apache.commons_commons-pool2-2.11.1.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: /root/.ivy2/jars/org.apache.commons_commons-pool2-2.11.1.jar has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.commons_commons-pool2-2.11.1.jar
25/12/04 13:11:30 INFO Executor: Fetching file:///root/.ivy2/jars/commons-logging_commons-logging-1.1.3.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: /root/.ivy2/jars/commons-logging_commons-logging-1.1.3.jar has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/commons-logging_commons-logging-1.1.3.jar
25/12/04 13:11:30 INFO Executor: Fetching file:///root/.ivy2/jars/javax.xml.bind_jaxb-api-2.3.1.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: /root/.ivy2/jars/javax.xml.bind_jaxb-api-2.3.1.jar has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/javax.xml.bind_jaxb-api-2.3.1.jar
25/12/04 13:11:30 INFO Executor: Fetching file:///root/.ivy2/jars/org.postgresql_postgresql-42.7.0.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: /root/.ivy2/jars/org.postgresql_postgresql-42.7.0.jar has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.postgresql_postgresql-42.7.0.jar
25/12/04 13:11:30 INFO Executor: Fetching file:///root/.ivy2/jars/org.elasticsearch_elasticsearch-spark-30_2.12-8.11.0.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: /root/.ivy2/jars/org.elasticsearch_elasticsearch-spark-30_2.12-8.11.0.jar has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.elasticsearch_elasticsearch-spark-30_2.12-8.11.0.jar
25/12/04 13:11:30 INFO Executor: Fetching file:///root/.ivy2/jars/org.apache.spark_spark-yarn_2.12-3.3.3.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: /root/.ivy2/jars/org.apache.spark_spark-yarn_2.12-3.3.3.jar has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.spark_spark-yarn_2.12-3.3.3.jar
25/12/04 13:11:30 INFO Executor: Fetching file:///root/.ivy2/jars/org.lz4_lz4-java-1.8.0.jar with timestamp 1764853888417
25/12/04 13:11:30 INFO Utils: /root/.ivy2/jars/org.lz4_lz4-java-1.8.0.jar has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.lz4_lz4-java-1.8.0.jar
25/12/04 13:11:31 INFO Executor: Fetching file:///root/.ivy2/jars/org.scala-lang_scala-reflect-2.12.8.jar with timestamp 1764853888417
25/12/04 13:11:31 INFO Utils: /root/.ivy2/jars/org.scala-lang_scala-reflect-2.12.8.jar has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.scala-lang_scala-reflect-2.12.8.jar
25/12/04 13:11:31 INFO Executor: Fetching file:///root/.ivy2/jars/org.apache.kafka_kafka-clients-3.4.1.jar with timestamp 1764853888417
25/12/04 13:11:31 INFO Utils: /root/.ivy2/jars/org.apache.kafka_kafka-clients-3.4.1.jar has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.kafka_kafka-clients-3.4.1.jar
25/12/04 13:11:31 INFO Executor: Fetching spark://spark-master:40315/jars/org.apache.spark_spark-token-provider-kafka-0-10_2.12-3.5.0.jar with timestamp 1764853888417
25/12/04 13:11:31 INFO TransportClientFactory: Successfully created connection to spark-master/172.25.0.3:40315 after 33 ms (0 ms spent in bootstraps)
25/12/04 13:11:31 INFO Utils: Fetching spark://spark-master:40315/jars/org.apache.spark_spark-token-provider-kafka-0-10_2.12-3.5.0.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp16572191596003812329.tmp
25/12/04 13:11:31 INFO Utils: /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp16572191596003812329.tmp has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.spark_spark-token-provider-kafka-0-10_2.12-3.5.0.jar
25/12/04 13:11:31 INFO Executor: Adding file:/tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.spark_spark-token-provider-kafka-0-10_2.12-3.5.0.jar to class loader default
25/12/04 13:11:31 INFO Executor: Fetching spark://spark-master:40315/jars/com.google.protobuf_protobuf-java-2.5.0.jar with timestamp 1764853888417
25/12/04 13:11:31 INFO Utils: Fetching spark://spark-master:40315/jars/com.google.protobuf_protobuf-java-2.5.0.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp817754135570568393.tmp
25/12/04 13:11:31 INFO Utils: /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp817754135570568393.tmp has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/com.google.protobuf_protobuf-java-2.5.0.jar
25/12/04 13:11:31 INFO Executor: Adding file:/tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/com.google.protobuf_protobuf-java-2.5.0.jar to class loader default
25/12/04 13:11:31 INFO Executor: Fetching spark://spark-master:40315/jars/org.apache.hadoop_hadoop-client-api-3.3.4.jar with timestamp 1764853888417
25/12/04 13:11:31 INFO Utils: Fetching spark://spark-master:40315/jars/org.apache.hadoop_hadoop-client-api-3.3.4.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp2697034119076187449.tmp
25/12/04 13:11:31 INFO Utils: /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp2697034119076187449.tmp has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.hadoop_hadoop-client-api-3.3.4.jar
25/12/04 13:11:31 INFO Executor: Adding file:/tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.hadoop_hadoop-client-api-3.3.4.jar to class loader default25/12/04 13:11:31 INFO Executor: Fetching spark://spark-master:40315/jars/org.apache.hadoop_hadoop-client-runtime-3.3.4.jar with timestamp 1764853888417
25/12/04 13:11:31 INFO Utils: Fetching spark://spark-master:40315/jars/org.apache.hadoop_hadoop-client-runtime-3.3.4.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp11578667924702592992.tmp
25/12/04 13:11:31 INFO Utils: /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp11578667924702592992.tmp has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.hadoop_hadoop-client-runtime-3.3.4.jar
25/12/04 13:11:31 INFO Executor: Adding file:/tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.hadoop_hadoop-client-runtime-3.3.4.jar to class loader default
25/12/04 13:11:31 INFO Executor: Fetching spark://spark-master:40315/jars/org.apache.spark_spark-yarn_2.12-3.3.3.jar with timestamp 1764853888417
25/12/04 13:11:31 INFO Utils: Fetching spark://spark-master:40315/jars/org.apache.spark_spark-yarn_2.12-3.3.3.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp17452044982893587871.tmp
25/12/04 13:11:31 INFO Utils: /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp17452044982893587871.tmp has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.spark_spark-yarn_2.12-3.3.3.jar
25/12/04 13:11:31 INFO Executor: Adding file:/tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.spark_spark-yarn_2.12-3.3.3.jar to class loader default
25/12/04 13:11:31 INFO Executor: Fetching spark://spark-master:40315/jars/org.xerial.snappy_snappy-java-1.1.10.3.jar with timestamp 1764853888417
25/12/04 13:11:31 INFO Utils: Fetching spark://spark-master:40315/jars/org.xerial.snappy_snappy-java-1.1.10.3.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp4446906043318718812.tmp
25/12/04 13:11:31 INFO Utils: /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp4446906043318718812.tmp has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.xerial.snappy_snappy-java-1.1.10.3.jar
25/12/04 13:11:31 INFO Executor: Adding file:/tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.xerial.snappy_snappy-java-1.1.10.3.jar to class loader default
25/12/04 13:11:31 INFO Executor: Fetching spark://spark-master:40315/jars/org.postgresql_postgresql-42.7.0.jar with timestamp 1764853888417
25/12/04 13:11:31 INFO Utils: Fetching spark://spark-master:40315/jars/org.postgresql_postgresql-42.7.0.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp17915091556973039266.tmp
25/12/04 13:11:31 INFO Utils: /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp17915091556973039266.tmp has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.postgresql_postgresql-42.7.0.jar
25/12/04 13:11:31 INFO Executor: Adding file:/tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.postgresql_postgresql-42.7.0.jar to class loader default
25/12/04 13:11:31 INFO Executor: Fetching spark://spark-master:40315/jars/org.apache.spark_spark-sql-kafka-0-10_2.12-3.5.0.jar with timestamp 1764853888417
25/12/04 13:11:31 INFO Utils: Fetching spark://spark-master:40315/jars/org.apache.spark_spark-sql-kafka-0-10_2.12-3.5.0.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp16336015514608059700.tmp
25/12/04 13:11:31 INFO Utils: /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp16336015514608059700.tmp has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.spark_spark-sql-kafka-0-10_2.12-3.5.0.jar
25/12/04 13:11:31 INFO Executor: Adding file:/tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.spark_spark-sql-kafka-0-10_2.12-3.5.0.jar to class loader default
25/12/04 13:11:31 INFO Executor: Fetching spark://spark-master:40315/jars/org.lz4_lz4-java-1.8.0.jar with timestamp 1764853888417
25/12/04 13:11:31 INFO Utils: Fetching spark://spark-master:40315/jars/org.lz4_lz4-java-1.8.0.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp10975701000263552353.tmp
25/12/04 13:11:31 INFO Utils: /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp10975701000263552353.tmp has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.lz4_lz4-java-1.8.0.jar
25/12/04 13:11:31 INFO Executor: Adding file:/tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.lz4_lz4-java-1.8.0.jar to class loader default
25/12/04 13:11:31 INFO Executor: Fetching spark://spark-master:40315/jars/org.slf4j_slf4j-api-2.0.7.jar with timestamp 1764853888417
25/12/04 13:11:31 INFO Utils: Fetching spark://spark-master:40315/jars/org.slf4j_slf4j-api-2.0.7.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp5760538624067763867.tmp
25/12/04 13:11:31 INFO Utils: /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp5760538624067763867.tmp has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.slf4j_slf4j-api-2.0.7.jar
25/12/04 13:11:31 INFO Executor: Adding file:/tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.slf4j_slf4j-api-2.0.7.jar to class loader default
25/12/04 13:11:31 INFO Executor: Fetching spark://spark-master:40315/jars/org.elasticsearch_elasticsearch-spark-30_2.12-8.11.0.jar with timestamp 1764853888417
25/12/04 13:11:31 INFO Utils: Fetching spark://spark-master:40315/jars/org.elasticsearch_elasticsearch-spark-30_2.12-8.11.0.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp879912695500491985.tmp
25/12/04 13:11:31 INFO Utils: /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp879912695500491985.tmp has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.elasticsearch_elasticsearch-spark-30_2.12-8.11.0.jar
25/12/04 13:11:31 INFO Executor: Adding file:/tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.elasticsearch_elasticsearch-spark-30_2.12-8.11.0.jar to class loader default
25/12/04 13:11:31 INFO Executor: Fetching spark://spark-master:40315/jars/com.google.code.findbugs_jsr305-3.0.0.jar with timestamp 1764853888417
25/12/04 13:11:31 INFO Utils: Fetching spark://spark-master:40315/jars/com.google.code.findbugs_jsr305-3.0.0.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp4337243193082533806.tmp
25/12/04 13:11:31 INFO Utils: /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp4337243193082533806.tmp has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/com.google.code.findbugs_jsr305-3.0.0.jar
25/12/04 13:11:31 INFO Executor: Adding file:/tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/com.google.code.findbugs_jsr305-3.0.0.jar to class loader default
25/12/04 13:11:31 INFO Executor: Fetching spark://spark-master:40315/jars/commons-logging_commons-logging-1.1.3.jar with timestamp 1764853888417
25/12/04 13:11:31 INFO Utils: Fetching spark://spark-master:40315/jars/commons-logging_commons-logging-1.1.3.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp3273018469281538233.tmp
25/12/04 13:11:31 INFO Utils: /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp3273018469281538233.tmp has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/commons-logging_commons-logging-1.1.3.jar
25/12/04 13:11:31 INFO Executor: Adding file:/tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/commons-logging_commons-logging-1.1.3.jar to class loader default
25/12/04 13:11:31 INFO Executor: Fetching spark://spark-master:40315/jars/javax.xml.bind_jaxb-api-2.3.1.jar with timestamp 1764853888417
25/12/04 13:11:31 INFO Utils: Fetching spark://spark-master:40315/jars/javax.xml.bind_jaxb-api-2.3.1.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp13631001354252114958.tmp
25/12/04 13:11:31 INFO Utils: /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp13631001354252114958.tmp has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/javax.xml.bind_jaxb-api-2.3.1.jar
25/12/04 13:11:32 INFO Executor: Adding file:/tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/javax.xml.bind_jaxb-api-2.3.1.jar to class loader default
25/12/04 13:11:32 INFO Executor: Fetching spark://spark-master:40315/jars/org.apache.kafka_kafka-clients-3.4.1.jar with timestamp 1764853888417
25/12/04 13:11:32 INFO Utils: Fetching spark://spark-master:40315/jars/org.apache.kafka_kafka-clients-3.4.1.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp1385124196352282576.tmp
25/12/04 13:11:32 INFO Utils: /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp1385124196352282576.tmp has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.kafka_kafka-clients-3.4.1.jar
25/12/04 13:11:32 INFO Executor: Adding file:/tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.kafka_kafka-clients-3.4.1.jar to class loader default
25/12/04 13:11:32 INFO Executor: Fetching spark://spark-master:40315/jars/org.scala-lang_scala-reflect-2.12.8.jar with timestamp 1764853888417
25/12/04 13:11:32 INFO Utils: Fetching spark://spark-master:40315/jars/org.scala-lang_scala-reflect-2.12.8.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp7279217998263462436.tmp
25/12/04 13:11:32 INFO Utils: /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp7279217998263462436.tmp has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.scala-lang_scala-reflect-2.12.8.jar
25/12/04 13:11:32 INFO Executor: Adding file:/tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.scala-lang_scala-reflect-2.12.8.jar to class loader default
25/12/04 13:11:32 INFO Executor: Fetching spark://spark-master:40315/jars/org.checkerframework_checker-qual-3.31.0.jar with timestamp 1764853888417
25/12/04 13:11:32 INFO Utils: Fetching spark://spark-master:40315/jars/org.checkerframework_checker-qual-3.31.0.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp9898588140622395918.tmp
25/12/04 13:11:32 INFO Utils: /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp9898588140622395918.tmp has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.checkerframework_checker-qual-3.31.0.jar
25/12/04 13:11:32 INFO Executor: Adding file:/tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.checkerframework_checker-qual-3.31.0.jar to class loader default
25/12/04 13:11:32 INFO Executor: Fetching spark://spark-master:40315/jars/org.apache.commons_commons-pool2-2.11.1.jar with timestamp 1764853888417
25/12/04 13:11:32 INFO Utils: Fetching spark://spark-master:40315/jars/org.apache.commons_commons-pool2-2.11.1.jar to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp3090077796476611612.tmp
25/12/04 13:11:32 INFO Utils: /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/fetchFileTemp3090077796476611612.tmp has been previously copied to /tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.commons_commons-pool2-2.11.1.jar
25/12/04 13:11:32 INFO Executor: Adding file:/tmp/spark-4014be49-7ae2-4c8d-86b5-5465d9eac9d4/userFiles-d8457f7d-9832-4bca-b274-3822e230aef0/org.apache.commons_commons-pool2-2.11.1.jar to class loader default
25/12/04 13:11:32 INFO Utils: Successfully started service 'org.apache.spark.network.netty.NettyBlockTransferService' on port 46231.
25/12/04 13:11:32 INFO NettyBlockTransferService: Server created on spark-master:46231
25/12/04 13:11:32 INFO BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy
25/12/04 13:11:32 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, spark-master, 46231, None)
25/12/04 13:11:32 INFO BlockManagerMasterEndpoint: Registering block manager spark-master:46231 with 434.4 MiB RAM, BlockManagerId(driver, spark-master, 46231, None)
25/12/04 13:11:32 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, spark-master, 46231, None)
25/12/04 13:11:32 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, spark-master, 46231, None)
INFO:__main__:Conectando ao Kafka: kafka:9092
INFO:__main__:Stream do Kafka conectado com sucesso
INFO:__main__:Aplicando transformações nos dados...
INFO:__main__:Transformações aplicadas
INFO:__main__:Criando agregações...
INFO:__main__:Gravando dados na tabela eventos_raw do Postgres...
INFO:py4j.java_gateway:Callback Server Starting
INFO:py4j.java_gateway:Socket listening on ('127.0.0.1', 38917)
25/12/04 13:11:35 WARN ResolveWriteToStream: spark.sql.adaptive.enabled is not supported in streaming DataFrames/Datasets and will be disabled.
INFO:__main__:Gravando dados na tabela eventos_agregados do Postgres...
25/12/04 13:11:36 WARN ResolveWriteToStream: spark.sql.adaptive.enabled is not supported in streaming DataFrames/Datasets and will be disabled.
INFO:__main__:Gravando dados no índice eventos do Elasticsearch...
25/12/04 13:11:36 WARN ResolveWriteToStream: spark.sql.adaptive.enabled is not supported in streaming DataFrames/Datasets and will be disabled.
INFO:__main__:Pipeline iniciado! Aguardando dados do Kafka...
INFO:__main__:Consumindo do tópico: eventos
25/12/04 13:11:36 WARN AdminClientConfig: These configurations '[key.deserializer, value.deserializer, enable.auto.commit, max.poll.records, auto.offset.reset]' were supplied but are not used yet.
25/12/04 13:11:36 WARN AdminClientConfig: These configurations '[key.deserializer, value.deserializer, enable.auto.commit, max.poll.records, auto.offset.reset]' were supplied but are not used yet.
25/12/04 13:11:36 WARN AdminClientConfig: These configurations '[key.deserializer, value.deserializer, enable.auto.commit, max.poll.records, auto.offset.reset]' were supplied but are not used yet.
INFO:py4j.clientserver:Python Server ready to receive messages
INFO:py4j.clientserver:Received command c on object id p2
INFO:py4j.clientserver:Python Server ready to receive messages
INFO:py4j.clientserver:Received command c on object id p0
INFO:__main__:Batch 0 gravado no Elasticsearch
INFO:__main__:Batch 0 gravado com sucesso na tabela eventos_raw
INFO:py4j.clientserver:Python Server ready to receive messages
INFO:py4j.clientserver:Received command c on object id p1
INFO:__main__:Batch 0 gravado com sucesso na tabela eventos_agregados
^CINFO:py4j.clientserver:Error while receiving.
Traceback (most recent call last):
  File "/opt/spark/python/lib/py4j-0.10.9.7-src.zip/py4j/clientserver.py", line 511, in send_command
    answer = smart_decode(self.stream.readline()[:-1])
                          ^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: reentrant call inside <_io.BufferedReader name=3>
INFO:py4j.clientserver:Closing down clientserver connection
ERROR:root:Exception while sending command.
Traceback (most recent call last):
  File "/opt/spark/python/lib/py4j-0.10.9.7-src.zip/py4j/clientserver.py", line 511, in send_command
    answer = smart_decode(self.stream.readline()[:-1])
                          ^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: reentrant call inside <_io.BufferedReader name=3>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/spark/python/lib/py4j-0.10.9.7-src.zip/py4j/java_gateway.py", line 1038, in send_command
    response = connection.send_command(command)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/spark/python/lib/py4j-0.10.9.7-src.zip/py4j/clientserver.py", line 539, in send_command
    raise Py4JNetworkError(
py4j.protocol.Py4JNetworkError: Error while sending or receiving
INFO:py4j.clientserver:Error while receiving.
Traceback (most recent call last):
  File "/opt/spark/python/lib/py4j-0.10.9.7-src.zip/py4j/clientserver.py", line 511, in send_command
    answer = smart_decode(self.stream.readline()[:-1])
                          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/socket.py", line 707, in readinto
    return self._sock.recv_into(b)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/spark/python/lib/pyspark.zip/pyspark/context.py", line 381, in signal_handler
    self.cancelAllJobs()
  File "/opt/spark/python/lib/pyspark.zip/pyspark/context.py", line 2446, in cancelAllJobs
    self._jsc.sc().cancelAllJobs()
    ^^^^^^^^^^^^^^
  File "/opt/spark/python/lib/py4j-0.10.9.7-src.zip/py4j/java_gateway.py", line 1322, in __call__
    return_value = get_return_value(
                   ^^^^^^^^^^^^^^^^^
  File "/opt/spark/python/lib/pyspark.zip/pyspark/errors/exceptions/captured.py", line 179, in deco
    return f(*a, **kw)
           ^^^^^^^^^^^
  File "/opt/spark/python/lib/py4j-0.10.9.7-src.zip/py4j/protocol.py", line 334, in get_return_value
    raise Py4JError(
py4j.protocol.Py4JError: An error occurred while calling o22.sc
INFO:py4j.clientserver:Closing down clientserver connection
ERROR:root:Exception while sending command.
Traceback (most recent call last):
  File "/opt/spark/python/lib/py4j-0.10.9.7-src.zip/py4j/clientserver.py", line 511, in send_command
    answer = smart_decode(self.stream.readline()[:-1])
                          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/socket.py", line 707, in readinto
    return self._sock.recv_into(b)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/spark/python/lib/pyspark.zip/pyspark/context.py", line 381, in signal_handler
    self.cancelAllJobs()
  File "/opt/spark/python/lib/pyspark.zip/pyspark/context.py", line 2446, in cancelAllJobs
    self._jsc.sc().cancelAllJobs()
    ^^^^^^^^^^^^^^
  File "/opt/spark/python/lib/py4j-0.10.9.7-src.zip/py4j/java_gateway.py", line 1322, in __call__
    return_value = get_return_value(
                   ^^^^^^^^^^^^^^^^^
  File "/opt/spark/python/lib/pyspark.zip/pyspark/errors/exceptions/captured.py", line 179, in deco
    return f(*a, **kw)
           ^^^^^^^^^^^
  File "/opt/spark/python/lib/py4j-0.10.9.7-src.zip/py4j/protocol.py", line 334, in get_return_value
    raise Py4JError(
py4j.protocol.Py4JError: An error occurred while calling o22.sc

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/spark/python/lib/py4j-0.10.9.7-src.zip/py4j/java_gateway.py", line 1038, in send_command
    response = connection.send_command(command)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/spark/python/lib/py4j-0.10.9.7-src.zip/py4j/clientserver.py", line 539, in send_command
    raise Py4JNetworkError(
py4j.protocol.Py4JNetworkError: Error while sending or receiving
INFO:py4j.clientserver:Closing down clientserver connection
Traceback (most recent call last):
  File "/opt/spark-apps/spark_app.py", line 206, in <module>
    main()
  File "/opt/spark-apps/spark_app.py", line 199, in main
    query_postgres_raw.awaitTermination()
  File "/opt/spark/python/lib/pyspark.zip/pyspark/sql/streaming/query.py", line 221, in awaitTermination
  File "/opt/spark/python/lib/py4j-0.10.9.7-src.zip/py4j/java_gateway.py", line 1322, in __call__
  File "/opt/spark/python/lib/pyspark.zip/pyspark/errors/exceptions/captured.py", line 179, in deco
  File "/opt/spark/python/lib/py4j-0.10.9.7-src.zip/py4j/protocol.py", line 334, in get_return_value
py4j.protocol.Py4JError: An error occurred while calling o93.awaitTermination
INFO:py4j.clientserver:Closing down clientserver connection
renan3@ZORO:~$ python3 test_mcp.py
python3: can't open file '/home/renan3/test_mcp.py': [Errno 2] No such file or directory
renan3@ZORO:~$ ls
 8MCP                       EVOLUTIO-API             'ImageConverter$3.class'   N8N             SUPERSET           dados-importacao   mcp-gateway         path_postman         scripts:memory:.ses
 API-OPENWeatheMap          GIT                      'ImageConverter$4.class'   PORTAINER       SURF-API           db-oracle          n8n-mcp             pdf_convert          snap
 APP_FULL                   INSTALL_PORTAINER         ImageConverter.class     'PROJETOS N8N'   backups            devops2            n8n-workflow.json   postman-cli          surfguru-api
 CONVERT_PNG                INSTALL_PORTAINER.js      ImageConverter.java       PROJETOS_MCP    clima-app          docker_nuke.sh     node_modules        projeto-hybrid-mcp   tablesDB
 DEVOPS                    'ImageConverter$1.class'   MCP                       RUBY            climatempo         install_postman    package-lock.json   projetos             tablesDB.py
 DOCKER_COMANDO_PRUNE.txt  'ImageConverter$2.class'   MODEL-INTELIGENCE         SSET            conversor_imagem   install_postman1   package.json        scripts              ubuntu-ssh
renan3@ZORO:~$ cd SUPERSET/
renan3@ZORO:~/SUPERSET$ python3 test_mcp.py
Traceback (most recent call last):
  File "/home/renan3/SUPERSET/test_mcp.py", line 8, in <module>
    from superset_mcp import (
  File "/home/renan3/SUPERSET/superset_mcp.py", line 8, in <module>
    from mcp.server.fastmcp import FastMCP
ModuleNotFoundError: No module named 'mcp'
renan3@ZORO:~/SUPERSET$ ls
1docker-compose.yml  __pycache__         dockerNUKe.sh     init_database.sh  kafka_producer.py  restart_all.sh    spark_app.py       test_mcp.py
Dockerfile.spark     create_tables.sql   engine_create.py  init_superset.sh  pontainer          run_spark.sh      start_pipeline.sh  test_pipeline.sh
README.md            docker-compose.yml  fix_superset.sh   install_jars.sh   requirements.txt   script_tabela.py  superset_mcp.py    venv
renan3@ZORO:~/SUPERSET$ ^C

: command not found
renan3@ZORO:~/SUPERSET$
renan3@ZORO:~/SUPERSET$ -ls
Command '-ls' not found, did you mean:
  command 'i-ls' from deb integrit (4.1-4)
  command 'fls' from deb sleuthkit (4.12.1+dfsg-1)
  command 'ls' from deb coreutils (9.4-3ubuntu6.1)
  command 'rls' from deb rustup (1.26.0-3)
  command 'ols' from deb speech-tools (1:2.5.0-13)
  command 'hls' from deb hfsutils (3.2.6-15build2)
  command 'ils' from deb sleuthkit (4.12.1+dfsg-1)
  command 'als' from deb atool (0.39.0-13)
  command 'bls' from deb bacula-sd (9.6.7-7)
  command 'jls' from deb sleuthkit (4.12.1+dfsg-1)
Try: sudo apt install <deb name>
renan3@ZORO:~/SUPERSET$ # Instale as dependências (se ainda não instalou)
renan3@ZORO:~/SUPERSET$ pip install -r requirements.txt
 Rode o teste
python3 test_mcp.pyerror: externally-managed-environment

× This environment is externally managed
╰─> To install Python packages system-wide, try apt install
    python3-xyz, where xyz is the package you are trying to
    install.

    If you wish to install a non-Debian-packaged Python package,
    create a virtual environment using python3 -m venv path/to/venv.
    Then use path/to/venv/bin/python and path/to/venv/bin/pip. Make
    sure you have python3-full installed.

    If you wish to install a non-Debian packaged Python application,
    it may be easiest to use pipx install xyz, which will manage a
    virtual environment for you. Make sure you have pipx installed.

    See /usr/share/doc/python3.12/README.venv for more information.

note: If you believe this is a mistake, please contact your Python installation or OS distribution provider. You can override this, at the risk of breaking your Python installation or OS, by passing --break-system-packages.
hint: See PEP 668 for the detailed specification.
renan3@ZORO:~/SUPERSET$
renan3@ZORO:~/SUPERSET$ # Rode o teste
renan3@ZORO:~/SUPERSET$ python3 test_mcp.py
Traceback (most recent call last):
  File "/home/renan3/SUPERSET/test_mcp.py", line 8, in <module>
    from superset_mcp import (
  File "/home/renan3/SUPERSET/superset_mcp.py", line 8, in <module>
    from mcp.server.fastmcp import FastMCP
ModuleNotFoundError: No module named 'mcp'
renan3@ZORO:~/SUPERSET$ pip install mcp
error: externally-managed-environment

× This environment is externally managed
╰─> To install Python packages system-wide, try apt install
    python3-xyz, where xyz is the package you are trying to
    install.

    If you wish to install a non-Debian-packaged Python package,
    create a virtual environment using python3 -m venv path/to/venv.
    Then use path/to/venv/bin/python and path/to/venv/bin/pip. Make
    sure you have python3-full installed.

    If you wish to install a non-Debian packaged Python application,
    it may be easiest to use pipx install xyz, which will manage a
    virtual environment for you. Make sure you have pipx installed.

    See /usr/share/doc/python3.12/README.venv for more information.

note: If you believe this is a mistake, please contact your Python installation or OS distribution provider. You can override this, at the risk of breaking your Python installation or OS, by passing --break-system-packages.
hint: See PEP 668 for the detailed specification.
renan3@ZORO:~/SUPERSET$ pip3 install mcp
error: externally-managed-environment

× This environment is externally managed
╰─> To install Python packages system-wide, try apt install
    python3-xyz, where xyz is the package you are trying to
    install.

    If you wish to install a non-Debian-packaged Python package,
    create a virtual environment using python3 -m venv path/to/venv.
    Then use path/to/venv/bin/python and path/to/venv/bin/pip. Make
    sure you have python3-full installed.

    If you wish to install a non-Debian packaged Python application,
    it may be easiest to use pipx install xyz, which will manage a
    virtual environment for you. Make sure you have pipx installed.

    See /usr/share/doc/python3.12/README.venv for more information.

note: If you believe this is a mistake, please contact your Python installation or OS distribution provider. You can override this, at the risk of breaking your Python installation or OS, by passing --break-system-packages.
hint: See PEP 668 for the detailed specification.
renan3@ZORO:~/SUPERSET$ pip3 install fastmcp
error: externally-managed-environment

× This environment is externally managed
╰─> To install Python packages system-wide, try apt install
    python3-xyz, where xyz is the package you are trying to
    install.

    If you wish to install a non-Debian-packaged Python package,
    create a virtual environment using python3 -m venv path/to/venv.
    Then use path/to/venv/bin/python and path/to/venv/bin/pip. Make
    sure you have python3-full installed.

    If you wish to install a non-Debian packaged Python application,
    it may be easiest to use pipx install xyz, which will manage a
    virtual environment for you. Make sure you have pipx installed.

    See /usr/share/doc/python3.12/README.venv for more information.

note: If you believe this is a mistake, please contact your Python installation or OS distribution provider. You can override this, at the risk of breaking your Python installation or OS, by passing --break-system-packages.
hint: See PEP 668 for the detailed specification.
renan3@ZORO:~/SUPERSET$ pip3 install -r requirements.txt
error: externally-managed-environment

× This environment is externally managed
╰─> To install Python packages system-wide, try apt install
    python3-xyz, where xyz is the package you are trying to
    install.

    If you wish to install a non-Debian-packaged Python package,
    create a virtual environment using python3 -m venv path/to/venv.
    Then use path/to/venv/bin/python and path/to/venv/bin/pip. Make
    sure you have python3-full installed.

    If you wish to install a non-Debian packaged Python application,
    it may be easiest to use pipx install xyz, which will manage a
    virtual environment for you. Make sure you have pipx installed.

    See /usr/share/doc/python3.12/README.venv for more information.

note: If you believe this is a mistake, please contact your Python installation or OS distribution provider. You can override this, at the risk of breaking your Python installation or OS, by passing --break-system-packages.
hint: See PEP 668 for the detailed specification.
renan3@ZORO:~/SUPERSET$ # Certifique-se de ter o python3-venv instalado
pt instarenan3@ZORO:~/SUPERSET$ sudo apt install python3-venv python3-full
 Crie um ambiente virtual no diretório do projeto
cd ~/SUPERSET
python3 -m venv venv

# Ative o ambiente virtual
source venv/bin/activate

# Agora instale as dependências
pip install mcp fastmcp

# Execute seu script
python test_mcp.py[sudo] password for renan3:
Sorry, try again.
[sudo] password for renan3:
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
python3-venv is already the newest version (3.12.3-0ubuntu2.1).
python3-full is already the newest version (3.12.3-0ubuntu2.1).
The following packages were automatically installed and are no longer required:
  python3-compose python3-docker python3-dockerpty python3-docopt python3-dotenv python3-texttable python3-websocket
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 54 not upgraded.
renan3@ZORO:~/SUPERSET$ source venv/bin/activate
(venv) renan3@ZORO:~/SUPERSET$ pip install mcp fastmcp
Collecting mcp
  Downloading mcp-1.23.1-py3-none-any.whl.metadata (88 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 88.5/88.5 kB 1.3 MB/s eta 0:00:00
Collecting fastmcp
  Downloading fastmcp-2.13.3-py3-none-any.whl.metadata (20 kB)
Collecting anyio>=4.5 (from mcp)
  Downloading anyio-4.12.0-py3-none-any.whl.metadata (4.3 kB)
Collecting httpx-sse>=0.4 (from mcp)
  Downloading httpx_sse-0.4.3-py3-none-any.whl.metadata (9.7 kB)
Collecting httpx>=0.27.1 (from mcp)
  Using cached httpx-0.28.1-py3-none-any.whl.metadata (7.1 kB)
Collecting jsonschema>=4.20.0 (from mcp)
  Using cached jsonschema-4.25.1-py3-none-any.whl.metadata (7.6 kB)
Collecting pydantic-settings>=2.5.2 (from mcp)
  Downloading pydantic_settings-2.12.0-py3-none-any.whl.metadata (3.4 kB)
Collecting pydantic<3.0.0,>=2.11.0 (from mcp)
  Downloading pydantic-2.12.5-py3-none-any.whl.metadata (90 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 90.6/90.6 kB 4.2 MB/s eta 0:00:00
Collecting pyjwt>=2.10.1 (from pyjwt[crypto]>=2.10.1->mcp)
  Using cached PyJWT-2.10.1-py3-none-any.whl.metadata (4.0 kB)
Collecting python-multipart>=0.0.9 (from mcp)
  Using cached python_multipart-0.0.20-py3-none-any.whl.metadata (1.8 kB)
Collecting sse-starlette>=1.6.1 (from mcp)
  Downloading sse_starlette-3.0.3-py3-none-any.whl.metadata (12 kB)
Collecting starlette>=0.27 (from mcp)
  Downloading starlette-0.50.0-py3-none-any.whl.metadata (6.3 kB)
Requirement already satisfied: typing-extensions>=4.9.0 in ./venv/lib/python3.12/site-packages (from mcp) (4.15.0)
Collecting typing-inspection>=0.4.1 (from mcp)
  Downloading typing_inspection-0.4.2-py3-none-any.whl.metadata (2.6 kB)
Collecting uvicorn>=0.31.1 (from mcp)
  Downloading uvicorn-0.38.0-py3-none-any.whl.metadata (6.8 kB)
Collecting authlib>=1.6.5 (from fastmcp)
  Downloading authlib-1.6.5-py2.py3-none-any.whl.metadata (9.8 kB)
Collecting cyclopts>=4.0.0 (from fastmcp)
  Downloading cyclopts-4.3.0-py3-none-any.whl.metadata (12 kB)
Collecting exceptiongroup>=1.2.2 (from fastmcp)
  Downloading exceptiongroup-1.3.1-py3-none-any.whl.metadata (6.7 kB)
Collecting jsonschema-path>=0.3.4 (from fastmcp)
  Downloading jsonschema_path-0.3.4-py3-none-any.whl.metadata (4.3 kB)
Collecting mcp
  Downloading mcp-1.22.0-py3-none-any.whl.metadata (85 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 85.9/85.9 kB 5.3 MB/s eta 0:00:00
Collecting openapi-pydantic>=0.5.1 (from fastmcp)
  Downloading openapi_pydantic-0.5.1-py3-none-any.whl.metadata (10 kB)
Collecting platformdirs>=4.0.0 (from fastmcp)
  Downloading platformdirs-4.5.0-py3-none-any.whl.metadata (12 kB)
Collecting py-key-value-aio<0.4.0,>=0.2.8 (from py-key-value-aio[disk,memory]<0.4.0,>=0.2.8->fastmcp)
  Downloading py_key_value_aio-0.3.0-py3-none-any.whl.metadata (2.5 kB)
Collecting pyperclip>=1.9.0 (from fastmcp)
  Downloading pyperclip-1.11.0-py3-none-any.whl.metadata (2.4 kB)
Collecting python-dotenv>=1.1.0 (from fastmcp)
  Downloading python_dotenv-1.2.1-py3-none-any.whl.metadata (25 kB)
Collecting rich>=13.9.4 (from fastmcp)
  Downloading rich-14.2.0-py3-none-any.whl.metadata (18 kB)
Collecting websockets>=15.0.1 (from fastmcp)
  Downloading websockets-15.0.1-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.8 kB)
Collecting idna>=2.8 (from anyio>=4.5->mcp)
  Using cached idna-3.11-py3-none-any.whl.metadata (8.4 kB)
Collecting cryptography (from authlib>=1.6.5->fastmcp)
  Downloading cryptography-46.0.3-cp311-abi3-manylinux_2_34_x86_64.whl.metadata (5.7 kB)
Collecting attrs>=23.1.0 (from cyclopts>=4.0.0->fastmcp)
  Downloading attrs-25.4.0-py3-none-any.whl.metadata (10 kB)
Collecting docstring-parser<4.0,>=0.15 (from cyclopts>=4.0.0->fastmcp)
  Downloading docstring_parser-0.17.0-py3-none-any.whl.metadata (3.5 kB)
Collecting rich-rst<2.0.0,>=1.3.1 (from cyclopts>=4.0.0->fastmcp)
  Downloading rich_rst-1.3.2-py3-none-any.whl.metadata (6.1 kB)
Collecting certifi (from httpx>=0.27.1->mcp)
  Downloading certifi-2025.11.12-py3-none-any.whl.metadata (2.5 kB)
Collecting httpcore==1.* (from httpx>=0.27.1->mcp)
  Using cached httpcore-1.0.9-py3-none-any.whl.metadata (21 kB)
Collecting h11>=0.16 (from httpcore==1.*->httpx>=0.27.1->mcp)
  Using cached h11-0.16.0-py3-none-any.whl.metadata (8.3 kB)
Collecting jsonschema-specifications>=2023.03.6 (from jsonschema>=4.20.0->mcp)
  Using cached jsonschema_specifications-2025.9.1-py3-none-any.whl.metadata (2.9 kB)
Collecting referencing>=0.28.4 (from jsonschema>=4.20.0->mcp)
  Downloading referencing-0.37.0-py3-none-any.whl.metadata (2.8 kB)
Collecting rpds-py>=0.7.1 (from jsonschema>=4.20.0->mcp)
  Downloading rpds_py-0.30.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.1 kB)
Collecting PyYAML>=5.1 (from jsonschema-path>=0.3.4->fastmcp)
  Downloading pyyaml-6.0.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (2.4 kB)
Collecting pathable<0.5.0,>=0.4.1 (from jsonschema-path>=0.3.4->fastmcp)
  Downloading pathable-0.4.4-py3-none-any.whl.metadata (1.8 kB)
Collecting referencing>=0.28.4 (from jsonschema>=4.20.0->mcp)
  Using cached referencing-0.36.2-py3-none-any.whl.metadata (2.8 kB)
Collecting requests<3.0.0,>=2.31.0 (from jsonschema-path>=0.3.4->fastmcp)
  Using cached requests-2.32.5-py3-none-any.whl.metadata (4.9 kB)
Collecting py-key-value-shared==0.3.0 (from py-key-value-aio<0.4.0,>=0.2.8->py-key-value-aio[disk,memory]<0.4.0,>=0.2.8->fastmcp)
  Downloading py_key_value_shared-0.3.0-py3-none-any.whl.metadata (706 bytes)
Collecting beartype>=0.20.0 (from py-key-value-aio<0.4.0,>=0.2.8->py-key-value-aio[disk,memory]<0.4.0,>=0.2.8->fastmcp)
  Downloading beartype-0.22.8-py3-none-any.whl.metadata (36 kB)
Collecting diskcache>=5.0.0 (from py-key-value-aio[disk,memory]<0.4.0,>=0.2.8->fastmcp)
  Downloading diskcache-5.6.3-py3-none-any.whl.metadata (20 kB)
Collecting pathvalidate>=3.3.1 (from py-key-value-aio[disk,memory]<0.4.0,>=0.2.8->fastmcp)
  Downloading pathvalidate-3.3.1-py3-none-any.whl.metadata (12 kB)
Collecting cachetools>=5.0.0 (from py-key-value-aio[disk,memory]<0.4.0,>=0.2.8->fastmcp)
  Downloading cachetools-6.2.2-py3-none-any.whl.metadata (5.6 kB)
Collecting annotated-types>=0.6.0 (from pydantic<3.0.0,>=2.11.0->mcp)
  Using cached annotated_types-0.7.0-py3-none-any.whl.metadata (15 kB)
Collecting pydantic-core==2.41.5 (from pydantic<3.0.0,>=2.11.0->mcp)
  Downloading pydantic_core-2.41.5-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (7.3 kB)
Collecting email-validator>=2.0.0 (from pydantic[email]>=2.11.7->fastmcp)
  Downloading email_validator-2.3.0-py3-none-any.whl.metadata (26 kB)
Collecting markdown-it-py>=2.2.0 (from rich>=13.9.4->fastmcp)
  Using cached markdown_it_py-4.0.0-py3-none-any.whl.metadata (7.3 kB)
Collecting pygments<3.0.0,>=2.13.0 (from rich>=13.9.4->fastmcp)
  Using cached pygments-2.19.2-py3-none-any.whl.metadata (2.5 kB)
Collecting click>=7.0 (from uvicorn>=0.31.1->mcp)
  Downloading click-8.3.1-py3-none-any.whl.metadata (2.6 kB)
Collecting cffi>=2.0.0 (from cryptography->authlib>=1.6.5->fastmcp)
  Using cached cffi-2.0.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (2.6 kB)
Collecting dnspython>=2.0.0 (from email-validator>=2.0.0->pydantic[email]>=2.11.7->fastmcp)
  Using cached dnspython-2.8.0-py3-none-any.whl.metadata (5.7 kB)
Collecting mdurl~=0.1 (from markdown-it-py>=2.2.0->rich>=13.9.4->fastmcp)
  Using cached mdurl-0.1.2-py3-none-any.whl.metadata (1.6 kB)
Collecting charset_normalizer<4,>=2 (from requests<3.0.0,>=2.31.0->jsonschema-path>=0.3.4->fastmcp)
  Using cached charset_normalizer-3.4.4-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (37 kB)
Collecting urllib3<3,>=1.21.1 (from requests<3.0.0,>=2.31.0->jsonschema-path>=0.3.4->fastmcp)
  Using cached urllib3-2.5.0-py3-none-any.whl.metadata (6.5 kB)
Collecting docutils (from rich-rst<2.0.0,>=1.3.1->cyclopts>=4.0.0->fastmcp)
  Downloading docutils-0.22.3-py3-none-any.whl.metadata (15 kB)
Collecting pycparser (from cffi>=2.0.0->cryptography->authlib>=1.6.5->fastmcp)
  Using cached pycparser-2.23-py3-none-any.whl.metadata (993 bytes)
Downloading fastmcp-2.13.3-py3-none-any.whl (385 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 385.6/385.6 kB 7.2 MB/s eta 0:00:00
Downloading mcp-1.22.0-py3-none-any.whl (175 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 175.5/175.5 kB 13.8 MB/s eta 0:00:00
Downloading anyio-4.12.0-py3-none-any.whl (113 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 113.4/113.4 kB 7.3 MB/s eta 0:00:00
Downloading authlib-1.6.5-py2.py3-none-any.whl (243 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 243.6/243.6 kB 15.3 MB/s eta 0:00:00
Downloading cyclopts-4.3.0-py3-none-any.whl (187 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 187.2/187.2 kB 12.7 MB/s eta 0:00:00
Downloading exceptiongroup-1.3.1-py3-none-any.whl (16 kB)
Using cached httpx-0.28.1-py3-none-any.whl (73 kB)
Using cached httpcore-1.0.9-py3-none-any.whl (78 kB)
Downloading httpx_sse-0.4.3-py3-none-any.whl (9.0 kB)
Using cached jsonschema-4.25.1-py3-none-any.whl (90 kB)
Downloading jsonschema_path-0.3.4-py3-none-any.whl (14 kB)
Downloading openapi_pydantic-0.5.1-py3-none-any.whl (96 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.4/96.4 kB 6.9 MB/s eta 0:00:00
Downloading platformdirs-4.5.0-py3-none-any.whl (18 kB)
Downloading py_key_value_aio-0.3.0-py3-none-any.whl (96 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.3/96.3 kB 6.9 MB/s eta 0:00:00
Downloading py_key_value_shared-0.3.0-py3-none-any.whl (19 kB)
Downloading pydantic-2.12.5-py3-none-any.whl (463 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 463.6/463.6 kB 19.9 MB/s eta 0:00:00
Downloading pydantic_core-2.41.5-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.1 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 27.5 MB/s eta 0:00:00
Downloading pydantic_settings-2.12.0-py3-none-any.whl (51 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 51.9/51.9 kB 1.8 MB/s eta 0:00:00
Using cached PyJWT-2.10.1-py3-none-any.whl (22 kB)
Downloading pyperclip-1.11.0-py3-none-any.whl (11 kB)
Downloading python_dotenv-1.2.1-py3-none-any.whl (21 kB)
Using cached python_multipart-0.0.20-py3-none-any.whl (24 kB)
Downloading rich-14.2.0-py3-none-any.whl (243 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 243.4/243.4 kB 14.1 MB/s eta 0:00:00
Downloading sse_starlette-3.0.3-py3-none-any.whl (11 kB)
Downloading starlette-0.50.0-py3-none-any.whl (74 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 74.0/74.0 kB 5.6 MB/s eta 0:00:00
Downloading typing_inspection-0.4.2-py3-none-any.whl (14 kB)
Downloading uvicorn-0.38.0-py3-none-any.whl (68 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 68.1/68.1 kB 4.8 MB/s eta 0:00:00
Downloading websockets-15.0.1-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (182 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 182.5/182.5 kB 6.0 MB/s eta 0:00:00
Using cached annotated_types-0.7.0-py3-none-any.whl (13 kB)
Downloading attrs-25.4.0-py3-none-any.whl (67 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 67.6/67.6 kB 4.7 MB/s eta 0:00:00
Downloading beartype-0.22.8-py3-none-any.whl (1.3 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.3/1.3 MB 9.2 MB/s eta 0:00:00
Downloading cachetools-6.2.2-py3-none-any.whl (11 kB)
Downloading click-8.3.1-py3-none-any.whl (108 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 108.3/108.3 kB 8.0 MB/s eta 0:00:00
Downloading cryptography-46.0.3-cp311-abi3-manylinux_2_34_x86_64.whl (4.5 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.5/4.5 MB 29.8 MB/s eta 0:00:00
Downloading diskcache-5.6.3-py3-none-any.whl (45 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 45.5/45.5 kB 3.2 MB/s eta 0:00:00
Downloading docstring_parser-0.17.0-py3-none-any.whl (36 kB)
Downloading email_validator-2.3.0-py3-none-any.whl (35 kB)
Using cached h11-0.16.0-py3-none-any.whl (37 kB)
Using cached idna-3.11-py3-none-any.whl (71 kB)
Using cached jsonschema_specifications-2025.9.1-py3-none-any.whl (18 kB)
Using cached markdown_it_py-4.0.0-py3-none-any.whl (87 kB)
Downloading pathable-0.4.4-py3-none-any.whl (9.6 kB)
Downloading pathvalidate-3.3.1-py3-none-any.whl (24 kB)
Using cached pygments-2.19.2-py3-none-any.whl (1.2 MB)
Downloading pyyaml-6.0.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (807 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 807.9/807.9 kB 25.0 MB/s eta 0:00:00
Using cached referencing-0.36.2-py3-none-any.whl (26 kB)
Using cached requests-2.32.5-py3-none-any.whl (64 kB)
Downloading certifi-2025.11.12-py3-none-any.whl (159 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 159.4/159.4 kB 12.1 MB/s eta 0:00:00
Downloading rich_rst-1.3.2-py3-none-any.whl (12 kB)
Downloading rpds_py-0.30.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (394 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 394.1/394.1 kB 19.4 MB/s eta 0:00:00
Using cached cffi-2.0.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (219 kB)
Using cached charset_normalizer-3.4.4-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (153 kB)
Using cached dnspython-2.8.0-py3-none-any.whl (331 kB)
Using cached mdurl-0.1.2-py3-none-any.whl (10.0 kB)
Using cached urllib3-2.5.0-py3-none-any.whl (129 kB)
Downloading docutils-0.22.3-py3-none-any.whl (633 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 633.0/633.0 kB 22.8 MB/s eta 0:00:00
Using cached pycparser-2.23-py3-none-any.whl (118 kB)
Installing collected packages: pyperclip, websockets, urllib3, typing-inspection, rpds-py, PyYAML, python-multipart, python-dotenv, pyjwt, pygments, pydantic-core, pycparser, platformdirs, pathvalidate, pathable, mdurl, idna, httpx-sse, h11, exceptiongroup, docutils, docstring-parser, dnspython, diskcache, click, charset_normalizer, certifi, cachetools, beartype, attrs, annotated-types, uvicorn, requests, referencing, pydantic, py-key-value-shared, markdown-it-py, httpcore, email-validator, cffi, anyio, starlette, sse-starlette, rich, pydantic-settings, py-key-value-aio, openapi-pydantic, jsonschema-specifications, jsonschema-path, httpx, cryptography, rich-rst, jsonschema, authlib, mcp, cyclopts, fastmcp
Successfully installed PyYAML-6.0.3 annotated-types-0.7.0 anyio-4.12.0 attrs-25.4.0 authlib-1.6.5 beartype-0.22.8 cachetools-6.2.2 certifi-2025.11.12 cffi-2.0.0 charset_normalizer-3.4.4 click-8.3.1 cryptography-46.0.3 cyclopts-4.3.0 diskcache-5.6.3 dnspython-2.8.0 docstring-parser-0.17.0 docutils-0.22.3 email-validator-2.3.0 exceptiongroup-1.3.1 fastmcp-2.13.3 h11-0.16.0 httpcore-1.0.9 httpx-0.28.1 httpx-sse-0.4.3 idna-3.11 jsonschema-4.25.1 jsonschema-path-0.3.4 jsonschema-specifications-2025.9.1 markdown-it-py-4.0.0 mcp-1.22.0 mdurl-0.1.2 openapi-pydantic-0.5.1 pathable-0.4.4 pathvalidate-3.3.1 platformdirs-4.5.0 py-key-value-aio-0.3.0 py-key-value-shared-0.3.0 pycparser-2.23 pydantic-2.12.5 pydantic-core-2.41.5 pydantic-settings-2.12.0 pygments-2.19.2 pyjwt-2.10.1 pyperclip-1.11.0 python-dotenv-1.2.1 python-multipart-0.0.20 referencing-0.36.2 requests-2.32.5 rich-14.2.0 rich-rst-1.3.2 rpds-py-0.30.0 sse-starlette-3.0.3 starlette-0.50.0 typing-inspection-0.4.2 urllib3-2.5.0 uvicorn-0.38.0 websockets-15.0.1
(venv) renan3@ZORO:~/SUPERSET$ python test_mcp.py
Traceback (most recent call last):
  File "/home/renan3/SUPERSET/test_mcp.py", line 8, in <module>
    from superset_mcp import (
  File "/home/renan3/SUPERSET/superset_mcp.py", line 11, in <module>
    import docker
ModuleNotFoundError: No module named 'docker'
(venv) renan3@ZORO:~/SUPERSET$ ls
1docker-compose.yml  __pycache__         dockerNUKe.sh     init_database.sh  kafka_producer.py  restart_all.sh    spark_app.py       test_mcp.py
Dockerfile.spark     create_tables.sql   engine_create.py  init_superset.sh  pontainer          run_spark.sh      start_pipeline.sh  test_pipeline.sh
README.md            docker-compose.yml  fix_superset.sh   install_jars.sh   requirements.txt   script_tabela.py  superset_mcp.py    venv
(venv) renan3@ZORO:~/SUPERSET$ docker compose up --build -d
fork/exec /usr/local/lib/docker/cli-plugins/docker-buildx: no such file or directory
(venv) renan3@ZORO:~/SUPERSET$ docker-compose up -d
[+] Running 9/9
 ✔ Container zookeeper       Healthy                                                                                                                                                                        0.5s
 ✔ Container spark-master    Healthy                                                                                                                                                                        0.5s
 ✔ Container elasticsearch   Healthy                                                                                                                                                                        0.5s
 ✔ Container postgres        Healthy                                                                                                                                                                        0.5s
 ✔ Container spark-worker-1  Running                                                                                                                                                                        0.0s
 ✔ Container kibana          Running                                                                                                                                                                        0.0s
 ✔ Container pgadmin         Running                                                                                                                                                                        0.0s
 ✔ Container superset        Running                                                                                                                                                                        0.0s
 ✔ Container kafka           Running                                                                                                                                                                        0.0s
(venv) renan3@ZORO:~/SUPERSET$ python3 test_mcp.py
Traceback (most recent call last):
  File "/home/renan3/SUPERSET/test_mcp.py", line 8, in <module>
    from superset_mcp import (
  File "/home/renan3/SUPERSET/superset_mcp.py", line 11, in <module>
    import docker
ModuleNotFoundError: No module named 'docker'
(venv) renan3@ZORO:~/SUPERSET$ pip install -r requirements.txt
Collecting kafka-python==2.0.2 (from -r requirements.txt (line 2))
  Downloading kafka_python-2.0.2-py2.py3-none-any.whl.metadata (7.8 kB)
Collecting pyspark==3.5.0 (from -r requirements.txt (line 5))
  Downloading pyspark-3.5.0.tar.gz (316.9 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 316.9/316.9 MB 5.4 MB/s eta 0:00:00
  Installing build dependencies ... done
  Getting requirements to build wheel ... done
  Preparing metadata (pyproject.toml) ... done
Collecting pandas==2.1.4 (from -r requirements.txt (line 8))
  Downloading pandas-2.1.4-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (18 kB)
Collecting numpy==1.26.2 (from -r requirements.txt (line 9))
  Downloading numpy-1.26.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (61 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.2/61.2 kB 2.9 MB/s eta 0:00:00
Requirement already satisfied: mcp in ./venv/lib/python3.12/site-packages (from -r requirements.txt (line 12)) (1.22.0)
Collecting docker (from -r requirements.txt (line 13))
  Downloading docker-7.1.0-py3-none-any.whl.metadata (3.8 kB)
Requirement already satisfied: psycopg2-binary in ./venv/lib/python3.12/site-packages (from -r requirements.txt (line 14)) (2.9.11)
Requirement already satisfied: requests in ./venv/lib/python3.12/site-packages (from -r requirements.txt (line 15)) (2.32.5)
Collecting py4j==0.10.9.7 (from pyspark==3.5.0->-r requirements.txt (line 5))
  Downloading py4j-0.10.9.7-py2.py3-none-any.whl.metadata (1.5 kB)
Collecting python-dateutil>=2.8.2 (from pandas==2.1.4->-r requirements.txt (line 8))
  Using cached python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata (8.4 kB)
Collecting pytz>=2020.1 (from pandas==2.1.4->-r requirements.txt (line 8))
  Using cached pytz-2025.2-py2.py3-none-any.whl.metadata (22 kB)
Collecting tzdata>=2022.1 (from pandas==2.1.4->-r requirements.txt (line 8))
  Using cached tzdata-2025.2-py2.py3-none-any.whl.metadata (1.4 kB)
Requirement already satisfied: anyio>=4.5 in ./venv/lib/python3.12/site-packages (from mcp->-r requirements.txt (line 12)) (4.12.0)
Requirement already satisfied: httpx-sse>=0.4 in ./venv/lib/python3.12/site-packages (from mcp->-r requirements.txt (line 12)) (0.4.3)
Requirement already satisfied: httpx>=0.27.1 in ./venv/lib/python3.12/site-packages (from mcp->-r requirements.txt (line 12)) (0.28.1)
Requirement already satisfied: jsonschema>=4.20.0 in ./venv/lib/python3.12/site-packages (from mcp->-r requirements.txt (line 12)) (4.25.1)
Requirement already satisfied: pydantic-settings>=2.5.2 in ./venv/lib/python3.12/site-packages (from mcp->-r requirements.txt (line 12)) (2.12.0)
Requirement already satisfied: pydantic<3.0.0,>=2.11.0 in ./venv/lib/python3.12/site-packages (from mcp->-r requirements.txt (line 12)) (2.12.5)
Requirement already satisfied: pyjwt>=2.10.1 in ./venv/lib/python3.12/site-packages (from pyjwt[crypto]>=2.10.1->mcp->-r requirements.txt (line 12)) (2.10.1)
Requirement already satisfied: python-multipart>=0.0.9 in ./venv/lib/python3.12/site-packages (from mcp->-r requirements.txt (line 12)) (0.0.20)
Requirement already satisfied: sse-starlette>=1.6.1 in ./venv/lib/python3.12/site-packages (from mcp->-r requirements.txt (line 12)) (3.0.3)
Requirement already satisfied: starlette>=0.27 in ./venv/lib/python3.12/site-packages (from mcp->-r requirements.txt (line 12)) (0.50.0)
Requirement already satisfied: typing-extensions>=4.9.0 in ./venv/lib/python3.12/site-packages (from mcp->-r requirements.txt (line 12)) (4.15.0)
Requirement already satisfied: typing-inspection>=0.4.1 in ./venv/lib/python3.12/site-packages (from mcp->-r requirements.txt (line 12)) (0.4.2)
Requirement already satisfied: uvicorn>=0.31.1 in ./venv/lib/python3.12/site-packages (from mcp->-r requirements.txt (line 12)) (0.38.0)
Requirement already satisfied: urllib3>=1.26.0 in ./venv/lib/python3.12/site-packages (from docker->-r requirements.txt (line 13)) (2.5.0)
Requirement already satisfied: charset_normalizer<4,>=2 in ./venv/lib/python3.12/site-packages (from requests->-r requirements.txt (line 15)) (3.4.4)
Requirement already satisfied: idna<4,>=2.5 in ./venv/lib/python3.12/site-packages (from requests->-r requirements.txt (line 15)) (3.11)
Requirement already satisfied: certifi>=2017.4.17 in ./venv/lib/python3.12/site-packages (from requests->-r requirements.txt (line 15)) (2025.11.12)
Requirement already satisfied: httpcore==1.* in ./venv/lib/python3.12/site-packages (from httpx>=0.27.1->mcp->-r requirements.txt (line 12)) (1.0.9)
Requirement already satisfied: h11>=0.16 in ./venv/lib/python3.12/site-packages (from httpcore==1.*->httpx>=0.27.1->mcp->-r requirements.txt (line 12)) (0.16.0)
Requirement already satisfied: attrs>=22.2.0 in ./venv/lib/python3.12/site-packages (from jsonschema>=4.20.0->mcp->-r requirements.txt (line 12)) (25.4.0)
Requirement already satisfied: jsonschema-specifications>=2023.03.6 in ./venv/lib/python3.12/site-packages (from jsonschema>=4.20.0->mcp->-r requirements.txt (line 12)) (2025.9.1)
Requirement already satisfied: referencing>=0.28.4 in ./venv/lib/python3.12/site-packages (from jsonschema>=4.20.0->mcp->-r requirements.txt (line 12)) (0.36.2)
Requirement already satisfied: rpds-py>=0.7.1 in ./venv/lib/python3.12/site-packages (from jsonschema>=4.20.0->mcp->-r requirements.txt (line 12)) (0.30.0)
Requirement already satisfied: annotated-types>=0.6.0 in ./venv/lib/python3.12/site-packages (from pydantic<3.0.0,>=2.11.0->mcp->-r requirements.txt (line 12)) (0.7.0)
Requirement already satisfied: pydantic-core==2.41.5 in ./venv/lib/python3.12/site-packages (from pydantic<3.0.0,>=2.11.0->mcp->-r requirements.txt (line 12)) (2.41.5)
Requirement already satisfied: python-dotenv>=0.21.0 in ./venv/lib/python3.12/site-packages (from pydantic-settings>=2.5.2->mcp->-r requirements.txt (line 12)) (1.2.1)
Requirement already satisfied: cryptography>=3.4.0 in ./venv/lib/python3.12/site-packages (from pyjwt[crypto]>=2.10.1->mcp->-r requirements.txt (line 12)) (46.0.3)
Collecting six>=1.5 (from python-dateutil>=2.8.2->pandas==2.1.4->-r requirements.txt (line 8))
  Using cached six-1.17.0-py2.py3-none-any.whl.metadata (1.7 kB)
Requirement already satisfied: click>=7.0 in ./venv/lib/python3.12/site-packages (from uvicorn>=0.31.1->mcp->-r requirements.txt (line 12)) (8.3.1)
Requirement already satisfied: cffi>=2.0.0 in ./venv/lib/python3.12/site-packages (from cryptography>=3.4.0->pyjwt[crypto]>=2.10.1->mcp->-r requirements.txt (line 12)) (2.0.0)
Requirement already satisfied: pycparser in ./venv/lib/python3.12/site-packages (from cffi>=2.0.0->cryptography>=3.4.0->pyjwt[crypto]>=2.10.1->mcp->-r requirements.txt (line 12)) (2.23)
Downloading kafka_python-2.0.2-py2.py3-none-any.whl (246 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 246.5/246.5 kB 15.4 MB/s eta 0:00:00
Downloading pandas-2.1.4-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (11.7 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 11.7/11.7 MB 25.1 MB/s eta 0:00:00
Downloading numpy-1.26.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (17.9 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 17.9/17.9 MB 18.8 MB/s eta 0:00:00
Downloading py4j-0.10.9.7-py2.py3-none-any.whl (200 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 200.5/200.5 kB 14.7 MB/s eta 0:00:00
Downloading docker-7.1.0-py3-none-any.whl (147 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 147.8/147.8 kB 7.8 MB/s eta 0:00:00
Using cached python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
Using cached pytz-2025.2-py2.py3-none-any.whl (509 kB)
Using cached tzdata-2025.2-py2.py3-none-any.whl (347 kB)
Using cached six-1.17.0-py2.py3-none-any.whl (11 kB)
Building wheels for collected packages: pyspark
  Building wheel for pyspark (pyproject.toml) ... done
  Created wheel for pyspark: filename=pyspark-3.5.0-py2.py3-none-any.whl size=317425400 sha256=e82b8889bb59ee19bac0ec150a150cc12d6a0c71144170d468fdd6d6fba999f2
  Stored in directory: /home/renan3/.cache/pip/wheels/84/40/20/65eefe766118e0a8f8e385cc3ed6e9eb7241c7e51cfc04c51a
Successfully built pyspark
Installing collected packages: pytz, py4j, kafka-python, tzdata, six, pyspark, numpy, python-dateutil, docker, pandas
  Attempting uninstall: kafka-python
    Found existing installation: kafka-python 2.2.15
    Uninstalling kafka-python-2.2.15:
      Successfully uninstalled kafka-python-2.2.15
Successfully installed docker-7.1.0 kafka-python-2.0.2 numpy-1.26.2 pandas-2.1.4 py4j-0.10.9.7 pyspark-3.5.0 python-dateutil-2.9.0.post0 pytz-2025.2 six-1.17.0 tzdata-2025.2
(venv) renan3@ZORO:~/SUPERSET$ python test_mcp.py
Traceback (most recent call last):
  File "/home/renan3/SUPERSET/test_mcp.py", line 8, in <module>
    from superset_mcp import (
  File "/home/renan3/SUPERSET/superset_mcp.py", line 13, in <module>
    from kafka import KafkaAdminClient
  File "/home/renan3/SUPERSET/venv/lib/python3.12/site-packages/kafka/__init__.py", line 23, in <module>
    from kafka.consumer import KafkaConsumer
  File "/home/renan3/SUPERSET/venv/lib/python3.12/site-packages/kafka/consumer/__init__.py", line 3, in <module>
    from kafka.consumer.group import KafkaConsumer
  File "/home/renan3/SUPERSET/venv/lib/python3.12/site-packages/kafka/consumer/group.py", line 13, in <module>
    from kafka.consumer.fetcher import Fetcher
  File "/home/renan3/SUPERSET/venv/lib/python3.12/site-packages/kafka/consumer/fetcher.py", line 19, in <module>
    from kafka.record import MemoryRecords
  File "/home/renan3/SUPERSET/venv/lib/python3.12/site-packages/kafka/record/__init__.py", line 1, in <module>
    from kafka.record.memory_records import MemoryRecords, MemoryRecordsBuilder
  File "/home/renan3/SUPERSET/venv/lib/python3.12/site-packages/kafka/record/memory_records.py", line 27, in <module>
    from kafka.record.legacy_records import LegacyRecordBatch, LegacyRecordBatchBuilder
  File "/home/renan3/SUPERSET/venv/lib/python3.12/site-packages/kafka/record/legacy_records.py", line 50, in <module>
    from kafka.codec import (
  File "/home/renan3/SUPERSET/venv/lib/python3.12/site-packages/kafka/codec.py", line 9, in <module>
    from kafka.vendor.six.moves import range
ModuleNotFoundError: No module named 'kafka.vendor.six.moves'
(venv) renan3@ZORO:~/SUPERSET$ # Desinstale a versão antiga
ip unins(venv) renan3@ZORO:~/SUPERSET$ pip uninstall kafka-python
nstale a versão nova e mantida
pip install kafka-python-ngFound existing installation: kafka-python 2.0.2
Uninstalling kafka-python-2.0.2:
  Would remove:
    /home/renan3/SUPERSET/venv/lib/python3.12/site-packages/kafka/*
    /home/renan3/SUPERSET/venv/lib/python3.12/site-packages/kafka_python-2.0.2.dist-info/*
Proceed (Y/n)? Your response ('# instale a versão nova e mantida') was not one of the expected responses: y, n,
Proceed (Y/n)? y
Your response ('pip install kafka-python-ngy') was not one of the expected responses: y, n,
Proceed (Y/n)? y
  Successfully uninstalled kafka-python-2.0.2
(venv) renan3@ZORO:~/SUPERSET$ pip install kafka-python-ng
Collecting kafka-python-ng
  Downloading kafka_python_ng-2.2.3-py2.py3-none-any.whl.metadata (9.7 kB)
Downloading kafka_python_ng-2.2.3-py2.py3-none-any.whl (232 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 232.8/232.8 kB 2.8 MB/s eta 0:00:00
Installing collected packages: kafka-python-ng
Successfully installed kafka-python-ng-2.2.3
(venv) renan3@ZORO:~/SUPERSET$ from kafka import KafkaAdminClient
Command 'from' not found, but can be installed with:
sudo apt install mailutils
(venv) renan3@ZORO:~/SUPERSET$ sudo apt install mailutils
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following packages were automatically installed and are no longer required:
  python3-compose python3-docker python3-dockerpty python3-docopt python3-dotenv python3-texttable python3-websocket
Use 'sudo apt autoremove' to remove them.
The following additional packages will be installed:
  cpio gsasl-common guile-3.0-libs libgc1 libgsasl18 libgssglue1 libmailutils9t64 libmysqlclient21 libnsl2 libntlm0 libpq5 mailutils-common mysql-common postfix ssl-cert
Suggested packages:
  libarchive-dev mailutils-mh mailutils-doc postfix-cdb postfix-doc postfix-ldap postfix-lmdb postfix-mta-sts-resolver postfix-mysql postfix-pcre postfix-pgsql postfix-sqlite procmail sasl2-bin
  | dovecot-common ufw
The following NEW packages will be installed:
  cpio gsasl-common guile-3.0-libs libgc1 libgsasl18 libgssglue1 libmailutils9t64 libmysqlclient21 libnsl2 libntlm0 libpq5 mailutils mailutils-common mysql-common postfix ssl-cert
0 upgraded, 16 newly installed, 0 to remove and 54 not upgraded.
Need to get 11.7 MB of archives.
After this operation, 72.3 MB of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://archive.ubuntu.com/ubuntu noble/main amd64 cpio amd64 2.15+dfsg-1ubuntu2 [82.7 kB]
Get:2 http://archive.ubuntu.com/ubuntu noble/main amd64 ssl-cert all 1.1.2ubuntu1 [17.8 kB]
Get:3 http://archive.ubuntu.com/ubuntu noble/main amd64 libnsl2 amd64 1.3.0-3build3 [41.4 kB]
Get:4 http://archive.ubuntu.com/ubuntu noble/main amd64 postfix amd64 3.8.6-1build2 [1254 kB]
Get:5 http://archive.ubuntu.com/ubuntu noble/main amd64 gsasl-common all 2.2.1-1willsync1build2 [5056 B]
Get:6 http://archive.ubuntu.com/ubuntu noble/main amd64 libgc1 amd64 1:8.2.6-1build1 [90.3 kB]
Get:7 http://archive.ubuntu.com/ubuntu noble/universe amd64 guile-3.0-libs amd64 3.0.9-1build2 [7630 kB]
Get:8 http://archive.ubuntu.com/ubuntu noble/main amd64 libgssglue1 amd64 0.9-1build1 [20.7 kB]
Get:9 http://archive.ubuntu.com/ubuntu noble/main amd64 libntlm0 amd64 1.7-1build1 [19.4 kB]
Get:10 http://archive.ubuntu.com/ubuntu noble/main amd64 libgsasl18 amd64 2.2.1-1willsync1build2 [72.8 kB]
Get:11 http://archive.ubuntu.com/ubuntu noble/universe amd64 mailutils-common all 1:3.17-1.1build3 [389 kB]
Get:12 http://archive.ubuntu.com/ubuntu noble/main amd64 mysql-common all 5.8+1.1.0build1 [6746 B]
Get:13 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 libmysqlclient21 amd64 8.0.44-0ubuntu0.24.04.1 [1254 kB]
Get:14 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 libpq5 amd64 16.11-0ubuntu0.24.04.1 [145 kB]
Get:15 http://archive.ubuntu.com/ubuntu noble/universe amd64 libmailutils9t64 amd64 1:3.17-1.1build3 [514 kB]
Get:16 http://archive.ubuntu.com/ubuntu noble/universe amd64 mailutils amd64 1:3.17-1.1build3 [127 kB]
Fetched 11.7 MB in 4s (3199 kB/s)
Selecting previously unselected package cpio.
(Reading database ... 84453 files and directories currently installed.)
Preparing to unpack .../00-cpio_2.15+dfsg-1ubuntu2_amd64.deb ...
Unpacking cpio (2.15+dfsg-1ubuntu2) ...
Selecting previously unselected package ssl-cert.
Preparing to unpack .../01-ssl-cert_1.1.2ubuntu1_all.deb ...
Unpacking ssl-cert (1.1.2ubuntu1) ...
Selecting previously unselected package libnsl2:amd64.
Preparing to unpack .../02-libnsl2_1.3.0-3build3_amd64.deb ...
Unpacking libnsl2:amd64 (1.3.0-3build3) ...
Selecting previously unselected package postfix.
Preparing to unpack .../03-postfix_3.8.6-1build2_amd64.deb ...
Unpacking postfix (3.8.6-1build2) ...
Selecting previously unselected package gsasl-common.
Preparing to unpack .../04-gsasl-common_2.2.1-1willsync1build2_all.deb ...
Unpacking gsasl-common (2.2.1-1willsync1build2) ...
Selecting previously unselected package libgc1:amd64.
Preparing to unpack .../05-libgc1_1%3a8.2.6-1build1_amd64.deb ...
Unpacking libgc1:amd64 (1:8.2.6-1build1) ...
Selecting previously unselected package guile-3.0-libs:amd64.
Preparing to unpack .../06-guile-3.0-libs_3.0.9-1build2_amd64.deb ...
Unpacking guile-3.0-libs:amd64 (3.0.9-1build2) ...
Selecting previously unselected package libgssglue1:amd64.
Preparing to unpack .../07-libgssglue1_0.9-1build1_amd64.deb ...
Unpacking libgssglue1:amd64 (0.9-1build1) ...
Selecting previously unselected package libntlm0:amd64.
Preparing to unpack .../08-libntlm0_1.7-1build1_amd64.deb ...
Unpacking libntlm0:amd64 (1.7-1build1) ...
Selecting previously unselected package libgsasl18:amd64.
Preparing to unpack .../09-libgsasl18_2.2.1-1willsync1build2_amd64.deb ...
Unpacking libgsasl18:amd64 (2.2.1-1willsync1build2) ...
Selecting previously unselected package mailutils-common.
Preparing to unpack .../10-mailutils-common_1%3a3.17-1.1build3_all.deb ...
Unpacking mailutils-common (1:3.17-1.1build3) ...
Selecting previously unselected package mysql-common.
Preparing to unpack .../11-mysql-common_5.8+1.1.0build1_all.deb ...
Unpacking mysql-common (5.8+1.1.0build1) ...
Selecting previously unselected package libmysqlclient21:amd64.
Preparing to unpack .../12-libmysqlclient21_8.0.44-0ubuntu0.24.04.1_amd64.deb ...
Unpacking libmysqlclient21:amd64 (8.0.44-0ubuntu0.24.04.1) ...
Selecting previously unselected package libpq5:amd64.
Preparing to unpack .../13-libpq5_16.11-0ubuntu0.24.04.1_amd64.deb ...
Unpacking libpq5:amd64 (16.11-0ubuntu0.24.04.1) ...
Selecting previously unselected package libmailutils9t64:amd64.
Preparing to unpack .../14-libmailutils9t64_1%3a3.17-1.1build3_amd64.deb ...
Unpacking libmailutils9t64:amd64 (1:3.17-1.1build3) ...
Selecting previously unselected package mailutils.
Preparing to unpack .../15-mailutils_1%3a3.17-1.1build3_amd64.deb ...
Unpacking mailutils (1:3.17-1.1build3) ...
Setting up cpio (2.15+dfsg-1ubuntu2) ...
update-alternatives: using /usr/bin/mt-gnu to provide /usr/bin/mt (mt) in auto mode
Setting up mysql-common (5.8+1.1.0build1) ...
update-alternatives: using /etc/mysql/my.cnf.fallback to provide /etc/mysql/my.cnf (my.cnf) in auto mode
Setting up libmysqlclient21:amd64 (8.0.44-0ubuntu0.24.04.1) ...
Setting up libpq5:amd64 (16.11-0ubuntu0.24.04.1) ...
Setting up libntlm0:amd64 (1.7-1build1) ...
Setting up ssl-cert (1.1.2ubuntu1) ...
Created symlink /etc/systemd/system/multi-user.target.wants/ssl-cert.service → /usr/lib/systemd/system/ssl-cert.service.
Setting up mailutils-common (1:3.17-1.1build3) ...
Setting up libgssglue1:amd64 (0.9-1build1) ...
Setting up libgc1:amd64 (1:8.2.6-1build1) ...
Setting up libgsasl18:amd64 (2.2.1-1willsync1build2) ...
Setting up libnsl2:amd64 (1.3.0-3build3) ...
Setting up gsasl-common (2.2.1-1willsync1build2) ...
Setting up guile-3.0-libs:amd64 (3.0.9-1build2) ...
Setting up postfix (3.8.6-1build2) ...
info: Selecting GID from range 100 to 999 ...
info: Adding group `postfix' (GID 113) ...
info: Selecting UID from range 100 to 999 ...

info: Adding system user `postfix' (UID 108) ...
info: Adding new user `postfix' (UID 108) with group `postfix' ...
info: Not creating home directory `/var/spool/postfix'.
Creating /etc/postfix/dynamicmaps.cf
info: Selecting GID from range 100 to 999 ...
info: Adding group `postdrop' (GID 114) ...
setting myhostname: ZORO.
setting alias maps
setting alias database
mailname is not a fully qualified domain name.  Not changing /etc/mailname.
setting destinations: localhost, $myhostname, ZORO., localhost., localhost
setting relayhost:
setting mynetworks: 127.0.0.0/8 [::ffff:127.0.0.0]/104 [::1]/128
setting mailbox_size_limit: 0
setting recipient_delimiter: +
setting inet_interfaces: loopback-only
setting default_transport: error
setting relay_transport: error
setting inet_protocols: all
/etc/aliases does not exist, creating it.
WARNING: /etc/aliases exists, but does not have a root alias.

Postfix (main.cf) is now set up with a default configuration.  If you need to
make changes, edit /etc/postfix/main.cf (and others) as needed.  To view
Postfix configuration values, see postconf(1).

After modifying main.cf, be sure to run 'systemctl reload postfix'.

Running newaliases
newaliases: fatal: bad string length 0 < 1: mydomain =
dpkg: error processing package postfix (--configure):
 installed postfix package post-installation script subprocess returned error exit status 75
Setting up libmailutils9t64:amd64 (1:3.17-1.1build3) ...
Setting up mailutils (1:3.17-1.1build3) ...
update-alternatives: using /usr/bin/frm.mailutils to provide /usr/bin/frm (frm) in auto mode
update-alternatives: using /usr/bin/from.mailutils to provide /usr/bin/from (from) in auto mode
update-alternatives: using /usr/bin/messages.mailutils to provide /usr/bin/messages (messages) in auto mode
update-alternatives: using /usr/bin/movemail.mailutils to provide /usr/bin/movemail (movemail) in auto mode
update-alternatives: using /usr/bin/readmsg.mailutils to provide /usr/bin/readmsg (readmsg) in auto mode
update-alternatives: using /usr/bin/dotlock.mailutils to provide /usr/bin/dotlock (dotlock) in auto mode
update-alternatives: using /usr/bin/mail.mailutils to provide /usr/bin/mailx (mailx) in auto mode
Processing triggers for rsyslog (8.2312.0-3ubuntu9.1) ...
Processing triggers for man-db (2.12.0-4build2) ...
Processing triggers for libc-bin (2.39-0ubuntu8.6) ...
Errors were encountered while processing:
 postfix
E: Sub-process /usr/bin/dpkg returned an error code (1)
(venv) renan3@ZORO:~/SUPERSET$ nano superset_mcp.py
(venv) renan3@ZORO:~/SUPERSET$ python test_mcp.py
============================================================
TESTE DO SERVIDOR MCP SUPERSET
============================================================

1️⃣ Testando get_pipeline_status():
------------------------------------------------------------
🟢 **superset**: running (running)
🟢 **kafka**: running (running)
🟢 **spark-worker-1**: running (running)
🟢 **elasticsearch**: running (running)
🟢 **spark-master**: running (running)
🟢 **postgres**: running (running)


2️⃣ Testando check_kafka_lag():
------------------------------------------------------------
INFO:kafka.conn:<BrokerConnection node_id=bootstrap-0 host=localhost:29092 <connecting> [IPv4 ('127.0.0.1', 29092)]>: connecting to localhost:29092 [('127.0.0.1', 29092) IPv4]
INFO:kafka.conn:Probing node bootstrap-0 broker version
INFO:kafka.conn:<BrokerConnection node_id=bootstrap-0 host=localhost:29092 <connecting> [IPv4 ('127.0.0.1', 29092)]>: Connection complete.
INFO:kafka.conn:Broker version identified as 2.6.0
INFO:kafka.conn:Set configuration api_version=(2, 6, 0) to skip auto check_version requests on startup
INFO:kafka.conn:Probing node bootstrap-0 broker version
INFO:kafka.conn:Broker version identified as 2.6.0
INFO:kafka.conn:Set configuration api_version=(2, 6, 0) to skip auto check_version requests on startup
INFO:kafka.conn:<BrokerConnection node_id=1 host=localhost:29092 <connecting> [IPv4 ('127.0.0.1', 29092)]>: connecting to localhost:29092 [('127.0.0.1', 29092) IPv4]
INFO:kafka.conn:Probing node 1 broker version
INFO:kafka.conn:<BrokerConnection node_id=1 host=localhost:29092 <connecting> [IPv4 ('127.0.0.1', 29092)]>: Connection complete.
INFO:kafka.conn:<BrokerConnection node_id=bootstrap-0 host=localhost:29092 <connected> [IPv4 ('127.0.0.1', 29092)]>: Closing connection.
INFO:kafka.conn:Broker version identified as 2.6.0
INFO:kafka.conn:Set configuration api_version=(2, 6, 0) to skip auto check_version requests on startup
✅ Kafka acessível. Tópicos encontrados: eventos


3️⃣ Testando get_spark_metrics():
------------------------------------------------------------
⚡ Spark Master (ALIVE): 1 Workers ativos, 0 Aplicações rodando.


4️⃣ Testando inject_event():
------------------------------------------------------------
INFO:kafka.conn:<BrokerConnection node_id=bootstrap-0 host=localhost:29092 <connecting> [IPv4 ('127.0.0.1', 29092)]>: connecting to localhost:29092 [('127.0.0.1', 29092) IPv4]
INFO:kafka.conn:Probing node bootstrap-0 broker version
INFO:kafka.conn:<BrokerConnection node_id=bootstrap-0 host=localhost:29092 <connecting> [IPv4 ('127.0.0.1', 29092)]>: Connection complete.
INFO:kafka.conn:Broker version identified as 2.6.0
INFO:kafka.conn:Set configuration api_version=(2, 6, 0) to skip auto check_version requests on startup
INFO:kafka.conn:<BrokerConnection node_id=1 host=localhost:29092 <connecting> [IPv4 ('127.0.0.1', 29092)]>: connecting to localhost:29092 [('127.0.0.1', 29092) IPv4]
INFO:kafka.conn:<BrokerConnection node_id=1 host=localhost:29092 <connecting> [IPv4 ('127.0.0.1', 29092)]>: Connection complete.
INFO:kafka.conn:<BrokerConnection node_id=bootstrap-0 host=localhost:29092 <connected> [IPv4 ('127.0.0.1', 29092)]>: Closing connection.
INFO:kafka.producer.kafka:Closing the Kafka producer with 9223372036.0 secs timeout.
INFO:kafka.conn:<BrokerConnection node_id=1 host=localhost:29092 <connected> [IPv4 ('127.0.0.1', 29092)]>: Closing connection.
✅ Evento injetado com sucesso: {"id": "8f385f27-7a41-459b-bea8-05718b6abe48", "usuario": "manual_user", "evento": "teste_mcp", "valor": 123.45, "timestamp": "2025-12-04T10:36:06.147737", "categoria": "teste_manual"}


5️⃣ Testando query_raw_events(limit=3):
------------------------------------------------------------
{'id': 'dc1e621b-bdfa-462f-9cef-9c07a964aa02', 'usuario': 'manual_user', 'evento': 'teste_mcp', 'valor': 123.45, 'timestamp': datetime.datetime(2025, 12, 4, 9, 45, 52, 50264), 'categoria': 'teste_manual', 'processado_em': datetime.datetime(2025, 12, 4, 12, 45, 52, 223000)}

============================================================
TESTES CONCLUÍDOS!
============================================================
(venv) renan3@ZORO:~/SUPERSET$ # 1. Reconfigure o Postfix manualmente
pkg-reco(venv) renan3@ZORO:~/SUPERSET$ sudo dpkg-reconfigure postfix
/usr/sbin/dpkg-reconfigure: postfix is broken or not fully installed
(venv) renan3@ZORO:~/SUPERSET$






































































